<?
include_once "config.inc";
include_once "search_engine_yahoo_local.php";

class ctcpas extends baseScrape
{
    public static $_this=null;
	

   public function runLoader()
   {
		$type = get_class();		

		//$this->maxRetries = 100;
		//$this->timeout = 15;
		$this->useCookies=true;
		$this->allowRedirects = true;
		$this->debug=false;
//		$this->threads=2;
//	$this->debug=true;
	//log::error_level(ERROR_DEBUG_VERBOSE);
		
		/*
	   db::query("
		UPDATE load_queue SET processing = 1 WHERE url IN (SELECT url FROM raw_data)		 
			 ");

		*/
		// cananda top 100 cities by population
	//	db::query("DELETE FROM raw_data where type = '$type' ");
//		db::query("DELETE FROM load_queue where type='$type'");
		//db::query("UPDATE raw_data SET parsed = 0 where parsed = 1  AND type = '$type' ");
		//db::query("DROP TABLE $type ");
		//db::query("UPDATE load_queue SET processing = 1 where type = '$type' ");

		$webRequests= array();
		$this->noProxy= false;
		$this->proxy = "localhost:8888";

		$html = $this->get("http://www.ctcpas.org/Public/Referral/findcpa.aspx");
		$page = new HtmlParser($html);		
		$data = $page->loadViewState();

		$data = "__EVENTTARGET=&__EVENTARGUMENT=&__VIEWSTATE=%2FwEPDwUKMjA0MjU5MjU2Ng9kFgJmD2QWDgIBD2QWAmYPZBYCAgIPZBYCZg8UKwACDwXFAUM7QzpCcnljZVdlYkdyb3VwLldlYi5VSS5XZWJDb250cm9scy5EeW5hbWljQ29udHJvbHNQbGFjZWhvbGRlciwgQnJ5Y2VXZWJHcm91cC5XZWIuVUkuV2ViQ29udHJvbHMuRHluYW1pY0NvbnRyb2xzUGxhY2Vob2xkZXIsIFZlcnNpb249Mi4xLjAuMCwgQ3VsdHVyZT1uZXV0cmFsLCBQdWJsaWNLZXlUb2tlbj0zMGQyM2YxMDg1ZGYzZTcyO29EQ1BIFgBkZAIDD2QWAgICD2QWAmYPFCsAAg8FxQFDO0M6QnJ5Y2VXZWJHcm91cC5XZWIuVUkuV2ViQ29udHJvbHMuRHluYW1pY0NvbnRyb2xzUGxhY2Vob2xkZXIsIEJyeWNlV2ViR3JvdXAuV2ViLlVJLldlYkNvbnRyb2xzLkR5bmFtaWNDb250cm9sc1BsYWNlaG9sZGVyLCBWZXJzaW9uPTIuMS4wLjAsIEN1bHR1cmU9bmV1dHJhbCwgUHVibGljS2V5VG9rZW49MzBkMjNmMTA4NWRmM2U3MjtvRENQSBYAZGQCBQ9kFgICAg9kFgJmDxQrAAIPBcUBQztDOkJyeWNlV2ViR3JvdXAuV2ViLlVJLldlYkNvbnRyb2xzLkR5bmFtaWNDb250cm9sc1BsYWNlaG9sZGVyLCBCcnljZVdlYkdyb3VwLldlYi5VSS5XZWJDb250cm9scy5EeW5hbWljQ29udHJvbHNQbGFjZWhvbGRlciwgVmVyc2lvbj0yLjEuMC4wLCBDdWx0dXJlPW5ldXRyYWwsIFB1YmxpY0tleVRva2VuPTMwZDIzZjEwODVkZjNlNzI7b0RDUEgWAGRkAgkPZBYCAgIPZBYEZg8WAh4HVmlzaWJsZWhkAgIPFgQeCWlubmVyaHRtbAWZCg0KPGRpdiBjbGFzcz0iYXJyb3dsaXN0bWVudSI%2BDQo8aW5wdXQgdHlwZT0iaGlkZGVuIiBjbGFzcz0idGhpc1BhZ2VJZCIgdmFsdWU9IjIxNTk2IiAvPjxpbnB1dCB0eXBlPSJoaWRkZW4iIGNsYXNzPSJ0aGlzUGF0aElkIiB2YWx1ZT0iOzIxNTk2OyIgLz48aDMgY2xhc3M9Im1lbnVoZWFkZXIiPjxhIGNsYXNzPSJwdWJsaWNBY2Nlc3MiIGhyZWY9Ii9wdWJsaWMvcmVmZXJyYWwvZmluZGNwYS5hc3B4IiB0aXRsZT0iRmluZCBhIENQQSI%2BRmluZCBhIENQQTxpbnB1dCB0eXBlPSJoaWRkZW4iIGNsYXNzPSJwYWdlSWQiIHZhbHVlPSIyNTYxMSIgLz48L2E%2BPC9oMz4NCjxoMyBjbGFzcz0ibWVudWhlYWRlciBsYXN0Ij48YSBjbGFzcz0icHVibGljQWNjZXNzIGxhc3QiIGhyZWY9Ii9wdWJsaWMvcmVmZXJyYWwvZmlybXJlZmVydXBkYXRlLmFzcHgiIHRpdGxlPSJVcGRhdGUgWW91ciBMaXN0aW5nIj5VcGRhdGUgWW91ciBMaXN0aW5nPGlucHV0IHR5cGU9ImhpZGRlbiIgY2xhc3M9InBhZ2VJZCIgdmFsdWU9IjIzOTA5IiAvPjwvYT48L2gzPg0KPGRpdiBpZD0iY3RsMDBfUGFuZWxTZWNvbmRhcnlOYXZpZ2F0aW9uX29QYW5lbF8yMTU5Nl8xNV82X3BhcmVudE5vZGUiIHN0eWxlPSJkaXNwbGF5Om5vbmU7Ij48aDI%2BPGEgY2xhc3M9InB1YmxpY0FjY2VzcyBsYXN0IiBocmVmPSIvcHVibGljL3JlZmVycmFsL2ZpbmRjcGEuYXNweCIgdGl0bGU9IkZpbmQgYSBDUEEiPkZpbmQgYSBDUEE8aW5wdXQgdHlwZT0iaGlkZGVuIiBjbGFzcz0icGFnZUlkIiB2YWx1ZT0iMjE1OTYiIC8%2BPC9hPjwvaDI%2BDQo8L2Rpdj4NCjwvZGl2Pg0KDQo8c2NyaXB0Pg0KICAgIA0KLy87MjE1OTY7DQpkZGFjY29yZGlvbi5pbml0KHsNCgloZWFkZXJjbGFzczogImV4cGFuZGFibGUiLA0KCWNvbnRlbnRjbGFzczogImNhdGVnb3J5aXRlbXMiLA0KCXJldmVhbHR5cGU6ICJtb3VzZW92ZXIiLA0KCW1vdXNlb3ZlcmRlbGF5OiA1MDAsDQoJY29sbGFwc2VwcmV2OiB0cnVlLA0KCWRlZmF1bHRleHBhbmRlZDogWy0xXSwNCglvbmVtdXN0b3BlbjogZmFsc2UsDQoJYW5pbWF0ZWRlZmF1bHQ6IGZhbHNlLA0KCXBlcnNpc3RzdGF0ZTogZmFsc2UsDQoJdG9nZ2xlY2xhc3M6IFsiIiwgIm9wZW5oZWFkZXIiXSwNCgl0b2dnbGVodG1sOiBbInByZWZpeCIsICIiLCAiIl0sDQoJYW5pbWF0ZXNwZWVkOiAiZmFzdCIsDQoJb25pbml0OmZ1bmN0aW9uKGhlYWRlcnMsIGV4cGFuZGVkaW5kaWNlcyl7IH0sDQoJb25vcGVuY2xvc2U6ZnVuY3Rpb24oaGVhZGVyLCBpbmRleCwgc3RhdGUsIGlzdXNlcmFjdGl2YXRlZCl7IH0NCn0pOw0KDQo8L3NjcmlwdD4NCh8AZ2QCCw9kFgICAg9kFgJmDxQrAAIPBcUBQztDOkJyeWNlV2ViR3JvdXAuV2ViLlVJLldlYkNvbnRyb2xzLkR5bmFtaWNDb250cm9sc1BsYWNlaG9sZGVyLCBCcnljZVdlYkdyb3VwLldlYi5VSS5XZWJDb250cm9scy5EeW5hbWljQ29udHJvbHNQbGFjZWhvbGRlciwgVmVyc2lvbj0yLjEuMC4wLCBDdWx0dXJlPW5ldXRyYWwsIFB1YmxpY0tleVRva2VuPTMwZDIzZjEwODVkZjNlNzI7b0RDUEgWAGQWAmYPZBYCZg8WAh4EVGV4dAW3BTxwIHN0eWxlPSJ0ZXh0LWFsaWduOiBjZW50ZXI7Ij48YSB0YXJnZXQ9Il9ibGFuayIgaHJlZj0iaHR0cDovL3d3dy5wYXljaGV4LmNvbS9hY2NvdW50aW5nLXByb2Zlc3Npb25hbHMvcmVzb3VyY2VzL2tub3dsZWRnZS1jZW50ZXIvIj48YSB0YXJnZXQ9Il9ibGFuayIgaHJlZj0iaHR0cHM6Ly93d3cuY2hlbHNlYWdyb3Rvbi5jb20vQnVzaW5lc3NzdHJvbmdCYW5raW5nc3Ryb25nL0J1c2luZXNzQmFua2luZ092ZXJ2aWV3LmFzcHgiPjxpbWcgYWx0PSIiIHNyYz0iaHR0cDovL3d3dy5jdGNwYXMub3JnL0NvbnRlbnQvRmlsZXMvSW1hZ2VzL0Jhbm5lckFkcy9DaGVsc2VhR3JvdG9uQmFuay5qcGciIC8%2BPC9hPiZuYnNwOzwvYT48L3A%2BDQo8cCBzdHlsZT0idGV4dC1hbGlnbjogY2VudGVyOyI%2BPGEgdGFyZ2V0PSJfYmxhbmsiIGhyZWY9Imh0dHA6Ly93d3cucGF5Y2hleC5jb20vYWNjb3VudGluZy1wcm9mZXNzaW9uYWxzL3Jlc291cmNlcy9rbm93bGVkZ2UtY2VudGVyLyI%2BPGltZyBhbHQ9IiIgc3JjPSJodHRwOi8vd3d3LmN0Y3Bhcy5vcmcvQ29udGVudC9GaWxlcy9JbWFnZXMvQmFubmVyQWRzL1BheWNoZXhfQmFubmVyQWRfQ1RfQ1BBLkpQRyIgLz48L2E%2BPGEgdGFyZ2V0PSJfYmxhbmsiIGhyZWY9Imh0dHA6Ly9sZWFwdGhlcG9uZC5jb20vY2hhbGxlbmdlcy1zb2x2ZWQvIj48YnIgLz4NCjxiciAvPg0KPC9hPjwvcD4NCg0KZAIPD2QWAgIED2QWBAIJDxAPFgYeDkRhdGFWYWx1ZUZpZWxkBQRjb2RlHg1EYXRhVGV4dEZpZWxkBQhjb2RlZGVzYx4LXyFEYXRhQm91bmRnZBAVCgNBbGwJRmFpcmZpZWxkCEhhcnRmb3JkCkxpdGNoZmllbGQJTWlkZGxlc2V4CU5ldyBIYXZlbgpOZXcgTG9uZG9uDE91dC1vZi1TdGF0ZQdUb2xsYW5kB1dpbmRoYW0VCgNBbGwDMDA0AzAwMQMwMDYDMDA3AzAwMgMwMDMDT1VUAzAwOAMwMDUUKwMKZ2dnZ2dnZ2dnZxYBZmQCCw8QDxYGHwMFBGNvZGUfBAUIY29kZWRlc2MfBWdkEBUhA0FsbBdBY2NvdW50aW5nIGFuZCBBdWRpdGluZwtBZ3JpY3VsdHVyZQ1BdWRpdC1HZW5lcmFsEkF1ZGl0LUdvdmVybm1lbnRhbBBBdWRpdC1Ob24tUHJvZml0C0Jvb2trZWVwaW5nEkJ1c2luZXNzIFZhbHVhdGlvbgxDb25zdHJ1Y3Rpb24PQ29ycG9yYXRlIFRheGVzDUVzdGF0ZS9UcnVzdHMWRm9yZWlnbiBMYW5ndWFnZS1PdGhlchhGb3JlaWduIExhbmd1YWdlLVNwYW5pc2gTRm9yZW5zaWMgQWNjb3VudGluZxRGcmF1ZCBJbnZlc3RpZ2F0aW9ucwpIZWFsdGhjYXJlEEluZGl2aWR1YWwgVGF4ZXMTSW50ZXJuYXRpb25hbCBUYXhlcwJJVBJMaXRpZ2F0aW9uIFN1cHBvcnQNTWFudWZhY3R1cmluZwpOb24tUHJvZml0DFBhcnRuZXJzaGlwcxtQZXJzb25hbCBGaW5hbmNpYWwgUGxhbm5pbmcLUmVhbCBFc3RhdGUGUmV0YWlsE1JldGlyZW1lbnQgUGxhbm5pbmcQU2VydmljZSBCdXNpbmVzcw5TbWFsbCBCdXNpbmVzcxlTbWFsbCBCdXNpbmVzcyBBc3Npc3RhbmNlE1N1Y2Nlc3Npb24gUGxhbm5pbmcRV2VhbHRoIE1hbmFnZW1lbnQJV2hvbGVzYWxlFSEDQWxsAkFBAkFHAkFJAkFEAkFVAkJPAkJWAkoxAkIxAkQxAkZPAkZMAkZBAkZJAkhFAkExAkMxAklUAkxJAksxAlkxAkUxAk4xAkwxAkgxAlJQAkcxAkYxAlNNAlNQAldNAkkxFCsDIWdnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZxYBZmQCEQ9kFgICAg9kFgJmDxQrAAIPBcUBQztDOkJyeWNlV2ViR3JvdXAuV2ViLlVJLldlYkNvbnRyb2xzLkR5bmFtaWNDb250cm9sc1BsYWNlaG9sZGVyLCBCcnljZVdlYkdyb3VwLldlYi5VSS5XZWJDb250cm9scy5EeW5hbWljQ29udHJvbHNQbGFjZWhvbGRlciwgVmVyc2lvbj0yLjEuMC4wLCBDdWx0dXJlPW5ldXRyYWwsIFB1YmxpY0tleVRva2VuPTMwZDIzZjEwODVkZjNlNzI7b0RDUEgWAGRkGAEFHl9fQ29udHJvbHNSZXF1aXJlUG9zdEJhY2tLZXlfXxYEBRxjdGwwMCRQYW5lbENvbnRlbnQkYm94Q291bnR5BR5jdGwwMCRQYW5lbENvbnRlbnQkYm94U2VydmljZXMFHGN0bDAwJFBhbmVsQ29udGVudCRidG5TZWFyY2gFG2N0bDAwJFBhbmVsQ29udGVudCRidG5DbGVhcibC5UwRQHpSP0qdBnngRtKS0Yz7&__VIEWSTATEGENERATOR=5F942784&__EVENTVALIDATION=%2FwEWMAL7maL%2BAQLgqMmpCgL9ucvfCAKPsf63BgLkrbTTCAK36ZuTCQK%2B2%2FDlBAKV8O6SDgKS%2Fvm4AwKJl9alBQK1ofHHCAKgmq7MBgLDwpL4AgLr5Y%2FpDgLJxefyCALJxc%2FyCALJxYfyCALJxdvyCALJxZfyCALIxe%2FyCALIxZPyCALwxafvCALIxafvCALKxafvCALMxe%2FyCALMxfvyCALMxefyCALMxYfyCAL%2BxdfyCALJxafvCALLxafvCALxxZvyCALyxYfyCALzxafvCALhxafvCALNxafvCAL0xafvCALyxafvCAL%2BxafvCAL4xavyCALPxafvCALMxafvCAL7xffyCAL7xavyCAL%2FxffyCALxxafvCAKEksnUAwKjj6LABdMvLro%2ByDJFsGGkgkaozlIVdr2p&ctl00%24PanelContent%24tbCompany=&ctl00%24PanelContent%24tbZip=&ctl00%24PanelContent%24boxCounty=001&ctl00%24PanelContent%24boxServices=All&ctl00%24PanelContent%24btnSearch.x=22&ctl00%24PanelContent%24btnSearch.y=12";
		$this->LoadPostUrl('http://www.ctcpas.org/Public/Referral/findcpa.aspx?ii=1',$data,true);
		$this->queuedFetch();
		$this->parseData();

		$data = "__EVENTTARGET=&__EVENTARGUMENT=&__VIEWSTATE=%2FwEPDwUKMjA0MjU5MjU2Ng9kFgJmD2QWDgIBD2QWAmYPZBYCAgIPZBYCZg8UKwACDwXFAUM7QzpCcnljZVdlYkdyb3VwLldlYi5VSS5XZWJDb250cm9scy5EeW5hbWljQ29udHJvbHNQbGFjZWhvbGRlciwgQnJ5Y2VXZWJHcm91cC5XZWIuVUkuV2ViQ29udHJvbHMuRHluYW1pY0NvbnRyb2xzUGxhY2Vob2xkZXIsIFZlcnNpb249Mi4xLjAuMCwgQ3VsdHVyZT1uZXV0cmFsLCBQdWJsaWNLZXlUb2tlbj0zMGQyM2YxMDg1ZGYzZTcyO29EQ1BIFgBkZAIDD2QWAgICD2QWAmYPFCsAAg8FxQFDO0M6QnJ5Y2VXZWJHcm91cC5XZWIuVUkuV2ViQ29udHJvbHMuRHluYW1pY0NvbnRyb2xzUGxhY2Vob2xkZXIsIEJyeWNlV2ViR3JvdXAuV2ViLlVJLldlYkNvbnRyb2xzLkR5bmFtaWNDb250cm9sc1BsYWNlaG9sZGVyLCBWZXJzaW9uPTIuMS4wLjAsIEN1bHR1cmU9bmV1dHJhbCwgUHVibGljS2V5VG9rZW49MzBkMjNmMTA4NWRmM2U3MjtvRENQSBYAZGQCBQ9kFgICAg9kFgJmDxQrAAIPBcUBQztDOkJyeWNlV2ViR3JvdXAuV2ViLlVJLldlYkNvbnRyb2xzLkR5bmFtaWNDb250cm9sc1BsYWNlaG9sZGVyLCBCcnljZVdlYkdyb3VwLldlYi5VSS5XZWJDb250cm9scy5EeW5hbWljQ29udHJvbHNQbGFjZWhvbGRlciwgVmVyc2lvbj0yLjEuMC4wLCBDdWx0dXJlPW5ldXRyYWwsIFB1YmxpY0tleVRva2VuPTMwZDIzZjEwODVkZjNlNzI7b0RDUEgWAGRkAgkPZBYCAgIPZBYEZg8WAh4HVmlzaWJsZWhkAgIPFgQeCWlubmVyaHRtbAWZCg0KPGRpdiBjbGFzcz0iYXJyb3dsaXN0bWVudSI%2BDQo8aW5wdXQgdHlwZT0iaGlkZGVuIiBjbGFzcz0idGhpc1BhZ2VJZCIgdmFsdWU9IjIxNTk2IiAvPjxpbnB1dCB0eXBlPSJoaWRkZW4iIGNsYXNzPSJ0aGlzUGF0aElkIiB2YWx1ZT0iOzIxNTk2OyIgLz48aDMgY2xhc3M9Im1lbnVoZWFkZXIiPjxhIGNsYXNzPSJwdWJsaWNBY2Nlc3MiIGhyZWY9Ii9wdWJsaWMvcmVmZXJyYWwvZmluZGNwYS5hc3B4IiB0aXRsZT0iRmluZCBhIENQQSI%2BRmluZCBhIENQQTxpbnB1dCB0eXBlPSJoaWRkZW4iIGNsYXNzPSJwYWdlSWQiIHZhbHVlPSIyNTYxMSIgLz48L2E%2BPC9oMz4NCjxoMyBjbGFzcz0ibWVudWhlYWRlciBsYXN0Ij48YSBjbGFzcz0icHVibGljQWNjZXNzIGxhc3QiIGhyZWY9Ii9wdWJsaWMvcmVmZXJyYWwvZmlybXJlZmVydXBkYXRlLmFzcHgiIHRpdGxlPSJVcGRhdGUgWW91ciBMaXN0aW5nIj5VcGRhdGUgWW91ciBMaXN0aW5nPGlucHV0IHR5cGU9ImhpZGRlbiIgY2xhc3M9InBhZ2VJZCIgdmFsdWU9IjIzOTA5IiAvPjwvYT48L2gzPg0KPGRpdiBpZD0iY3RsMDBfUGFuZWxTZWNvbmRhcnlOYXZpZ2F0aW9uX29QYW5lbF8yMTU5Nl8xNV82X3BhcmVudE5vZGUiIHN0eWxlPSJkaXNwbGF5Om5vbmU7Ij48aDI%2BPGEgY2xhc3M9InB1YmxpY0FjY2VzcyBsYXN0IiBocmVmPSIvcHVibGljL3JlZmVycmFsL2ZpbmRjcGEuYXNweCIgdGl0bGU9IkZpbmQgYSBDUEEiPkZpbmQgYSBDUEE8aW5wdXQgdHlwZT0iaGlkZGVuIiBjbGFzcz0icGFnZUlkIiB2YWx1ZT0iMjE1OTYiIC8%2BPC9hPjwvaDI%2BDQo8L2Rpdj4NCjwvZGl2Pg0KDQo8c2NyaXB0Pg0KICAgIA0KLy87MjE1OTY7DQpkZGFjY29yZGlvbi5pbml0KHsNCgloZWFkZXJjbGFzczogImV4cGFuZGFibGUiLA0KCWNvbnRlbnRjbGFzczogImNhdGVnb3J5aXRlbXMiLA0KCXJldmVhbHR5cGU6ICJtb3VzZW92ZXIiLA0KCW1vdXNlb3ZlcmRlbGF5OiA1MDAsDQoJY29sbGFwc2VwcmV2OiB0cnVlLA0KCWRlZmF1bHRleHBhbmRlZDogWy0xXSwNCglvbmVtdXN0b3BlbjogZmFsc2UsDQoJYW5pbWF0ZWRlZmF1bHQ6IGZhbHNlLA0KCXBlcnNpc3RzdGF0ZTogZmFsc2UsDQoJdG9nZ2xlY2xhc3M6IFsiIiwgIm9wZW5oZWFkZXIiXSwNCgl0b2dnbGVodG1sOiBbInByZWZpeCIsICIiLCAiIl0sDQoJYW5pbWF0ZXNwZWVkOiAiZmFzdCIsDQoJb25pbml0OmZ1bmN0aW9uKGhlYWRlcnMsIGV4cGFuZGVkaW5kaWNlcyl7IH0sDQoJb25vcGVuY2xvc2U6ZnVuY3Rpb24oaGVhZGVyLCBpbmRleCwgc3RhdGUsIGlzdXNlcmFjdGl2YXRlZCl7IH0NCn0pOw0KDQo8L3NjcmlwdD4NCh8AZ2QCCw9kFgICAg9kFgJmDxQrAAIPBcUBQztDOkJyeWNlV2ViR3JvdXAuV2ViLlVJLldlYkNvbnRyb2xzLkR5bmFtaWNDb250cm9sc1BsYWNlaG9sZGVyLCBCcnljZVdlYkdyb3VwLldlYi5VSS5XZWJDb250cm9scy5EeW5hbWljQ29udHJvbHNQbGFjZWhvbGRlciwgVmVyc2lvbj0yLjEuMC4wLCBDdWx0dXJlPW5ldXRyYWwsIFB1YmxpY0tleVRva2VuPTMwZDIzZjEwODVkZjNlNzI7b0RDUEgWAGQWAmYPZBYCZg8WAh4EVGV4dAW3BTxwIHN0eWxlPSJ0ZXh0LWFsaWduOiBjZW50ZXI7Ij48YSB0YXJnZXQ9Il9ibGFuayIgaHJlZj0iaHR0cDovL3d3dy5wYXljaGV4LmNvbS9hY2NvdW50aW5nLXByb2Zlc3Npb25hbHMvcmVzb3VyY2VzL2tub3dsZWRnZS1jZW50ZXIvIj48YSB0YXJnZXQ9Il9ibGFuayIgaHJlZj0iaHR0cHM6Ly93d3cuY2hlbHNlYWdyb3Rvbi5jb20vQnVzaW5lc3NzdHJvbmdCYW5raW5nc3Ryb25nL0J1c2luZXNzQmFua2luZ092ZXJ2aWV3LmFzcHgiPjxpbWcgYWx0PSIiIHNyYz0iaHR0cDovL3d3dy5jdGNwYXMub3JnL0NvbnRlbnQvRmlsZXMvSW1hZ2VzL0Jhbm5lckFkcy9DaGVsc2VhR3JvdG9uQmFuay5qcGciIC8%2BPC9hPiZuYnNwOzwvYT48L3A%2BDQo8cCBzdHlsZT0idGV4dC1hbGlnbjogY2VudGVyOyI%2BPGEgdGFyZ2V0PSJfYmxhbmsiIGhyZWY9Imh0dHA6Ly93d3cucGF5Y2hleC5jb20vYWNjb3VudGluZy1wcm9mZXNzaW9uYWxzL3Jlc291cmNlcy9rbm93bGVkZ2UtY2VudGVyLyI%2BPGltZyBhbHQ9IiIgc3JjPSJodHRwOi8vd3d3LmN0Y3Bhcy5vcmcvQ29udGVudC9GaWxlcy9JbWFnZXMvQmFubmVyQWRzL1BheWNoZXhfQmFubmVyQWRfQ1RfQ1BBLkpQRyIgLz48L2E%2BPGEgdGFyZ2V0PSJfYmxhbmsiIGhyZWY9Imh0dHA6Ly9sZWFwdGhlcG9uZC5jb20vY2hhbGxlbmdlcy1zb2x2ZWQvIj48YnIgLz4NCjxiciAvPg0KPC9hPjwvcD4NCg0KZAIPD2QWAgIED2QWBAIJDxAPFgYeDkRhdGFWYWx1ZUZpZWxkBQRjb2RlHg1EYXRhVGV4dEZpZWxkBQhjb2RlZGVzYx4LXyFEYXRhQm91bmRnZBAVCgNBbGwJRmFpcmZpZWxkCEhhcnRmb3JkCkxpdGNoZmllbGQJTWlkZGxlc2V4CU5ldyBIYXZlbgpOZXcgTG9uZG9uDE91dC1vZi1TdGF0ZQdUb2xsYW5kB1dpbmRoYW0VCgNBbGwDMDA0AzAwMQMwMDYDMDA3AzAwMgMwMDMDT1VUAzAwOAMwMDUUKwMKZ2dnZ2dnZ2dnZxYBZmQCCw8QDxYGHwMFBGNvZGUfBAUIY29kZWRlc2MfBWdkEBUhA0FsbBdBY2NvdW50aW5nIGFuZCBBdWRpdGluZwtBZ3JpY3VsdHVyZQ1BdWRpdC1HZW5lcmFsEkF1ZGl0LUdvdmVybm1lbnRhbBBBdWRpdC1Ob24tUHJvZml0C0Jvb2trZWVwaW5nEkJ1c2luZXNzIFZhbHVhdGlvbgxDb25zdHJ1Y3Rpb24PQ29ycG9yYXRlIFRheGVzDUVzdGF0ZS9UcnVzdHMWRm9yZWlnbiBMYW5ndWFnZS1PdGhlchhGb3JlaWduIExhbmd1YWdlLVNwYW5pc2gTRm9yZW5zaWMgQWNjb3VudGluZxRGcmF1ZCBJbnZlc3RpZ2F0aW9ucwpIZWFsdGhjYXJlEEluZGl2aWR1YWwgVGF4ZXMTSW50ZXJuYXRpb25hbCBUYXhlcwJJVBJMaXRpZ2F0aW9uIFN1cHBvcnQNTWFudWZhY3R1cmluZwpOb24tUHJvZml0DFBhcnRuZXJzaGlwcxtQZXJzb25hbCBGaW5hbmNpYWwgUGxhbm5pbmcLUmVhbCBFc3RhdGUGUmV0YWlsE1JldGlyZW1lbnQgUGxhbm5pbmcQU2VydmljZSBCdXNpbmVzcw5TbWFsbCBCdXNpbmVzcxlTbWFsbCBCdXNpbmVzcyBBc3Npc3RhbmNlE1N1Y2Nlc3Npb24gUGxhbm5pbmcRV2VhbHRoIE1hbmFnZW1lbnQJV2hvbGVzYWxlFSEDQWxsAkFBAkFHAkFJAkFEAkFVAkJPAkJWAkoxAkIxAkQxAkZPAkZMAkZBAkZJAkhFAkExAkMxAklUAkxJAksxAlkxAkUxAk4xAkwxAkgxAlJQAkcxAkYxAlNNAlNQAldNAkkxFCsDIWdnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZxYBZmQCEQ9kFgICAg9kFgJmDxQrAAIPBcUBQztDOkJyeWNlV2ViR3JvdXAuV2ViLlVJLldlYkNvbnRyb2xzLkR5bmFtaWNDb250cm9sc1BsYWNlaG9sZGVyLCBCcnljZVdlYkdyb3VwLldlYi5VSS5XZWJDb250cm9scy5EeW5hbWljQ29udHJvbHNQbGFjZWhvbGRlciwgVmVyc2lvbj0yLjEuMC4wLCBDdWx0dXJlPW5ldXRyYWwsIFB1YmxpY0tleVRva2VuPTMwZDIzZjEwODVkZjNlNzI7b0RDUEgWAGRkGAEFHl9fQ29udHJvbHNSZXF1aXJlUG9zdEJhY2tLZXlfXxYEBRxjdGwwMCRQYW5lbENvbnRlbnQkYm94Q291bnR5BR5jdGwwMCRQYW5lbENvbnRlbnQkYm94U2VydmljZXMFHGN0bDAwJFBhbmVsQ29udGVudCRidG5TZWFyY2gFG2N0bDAwJFBhbmVsQ29udGVudCRidG5DbGVhcibC5UwRQHpSP0qdBnngRtKS0Yz7&__VIEWSTATEGENERATOR=5F942784&__EVENTVALIDATION=%2FwEWMAL7maL%2BAQLgqMmpCgL9ucvfCAKPsf63BgLkrbTTCAK36ZuTCQK%2B2%2FDlBAKV8O6SDgKS%2Fvm4AwKJl9alBQK1ofHHCAKgmq7MBgLDwpL4AgLr5Y%2FpDgLJxefyCALJxc%2FyCALJxYfyCALJxdvyCALJxZfyCALIxe%2FyCALIxZPyCALwxafvCALIxafvCALKxafvCALMxe%2FyCALMxfvyCALMxefyCALMxYfyCAL%2BxdfyCALJxafvCALLxafvCALxxZvyCALyxYfyCALzxafvCALhxafvCALNxafvCAL0xafvCALyxafvCAL%2BxafvCAL4xavyCALPxafvCALMxafvCAL7xffyCAL7xavyCAL%2FxffyCALxxafvCAKEksnUAwKjj6LABdMvLro%2ByDJFsGGkgkaozlIVdr2p&ctl00%24PanelContent%24tbCompany=&ctl00%24PanelContent%24tbZip=&ctl00%24PanelContent%24boxCounty=002&ctl00%24PanelContent%24boxServices=All&ctl00%24PanelContent%24btnSearch.x=22&ctl00%24PanelContent%24btnSearch.y=12";
		$this->LoadPostUrl('http://www.ctcpas.org/Public/Referral/findcpa.aspx?ii=2',$data,true);
		$this->queuedFetch();
		$this->parseData();

		$data = "__EVENTTARGET=&__EVENTARGUMENT=&__VIEWSTATE=%2FwEPDwUKMjA0MjU5MjU2Ng9kFgJmD2QWDgIBD2QWAmYPZBYCAgIPZBYCZg8UKwACDwXFAUM7QzpCcnljZVdlYkdyb3VwLldlYi5VSS5XZWJDb250cm9scy5EeW5hbWljQ29udHJvbHNQbGFjZWhvbGRlciwgQnJ5Y2VXZWJHcm91cC5XZWIuVUkuV2ViQ29udHJvbHMuRHluYW1pY0NvbnRyb2xzUGxhY2Vob2xkZXIsIFZlcnNpb249Mi4xLjAuMCwgQ3VsdHVyZT1uZXV0cmFsLCBQdWJsaWNLZXlUb2tlbj0zMGQyM2YxMDg1ZGYzZTcyO29EQ1BIFgBkZAIDD2QWAgICD2QWAmYPFCsAAg8FxQFDO0M6QnJ5Y2VXZWJHcm91cC5XZWIuVUkuV2ViQ29udHJvbHMuRHluYW1pY0NvbnRyb2xzUGxhY2Vob2xkZXIsIEJyeWNlV2ViR3JvdXAuV2ViLlVJLldlYkNvbnRyb2xzLkR5bmFtaWNDb250cm9sc1BsYWNlaG9sZGVyLCBWZXJzaW9uPTIuMS4wLjAsIEN1bHR1cmU9bmV1dHJhbCwgUHVibGljS2V5VG9rZW49MzBkMjNmMTA4NWRmM2U3MjtvRENQSBYAZGQCBQ9kFgICAg9kFgJmDxQrAAIPBcUBQztDOkJyeWNlV2ViR3JvdXAuV2ViLlVJLldlYkNvbnRyb2xzLkR5bmFtaWNDb250cm9sc1BsYWNlaG9sZGVyLCBCcnljZVdlYkdyb3VwLldlYi5VSS5XZWJDb250cm9scy5EeW5hbWljQ29udHJvbHNQbGFjZWhvbGRlciwgVmVyc2lvbj0yLjEuMC4wLCBDdWx0dXJlPW5ldXRyYWwsIFB1YmxpY0tleVRva2VuPTMwZDIzZjEwODVkZjNlNzI7b0RDUEgWAGRkAgkPZBYCAgIPZBYEZg8WAh4HVmlzaWJsZWhkAgIPFgQeCWlubmVyaHRtbAWZCg0KPGRpdiBjbGFzcz0iYXJyb3dsaXN0bWVudSI%2BDQo8aW5wdXQgdHlwZT0iaGlkZGVuIiBjbGFzcz0idGhpc1BhZ2VJZCIgdmFsdWU9IjIxNTk2IiAvPjxpbnB1dCB0eXBlPSJoaWRkZW4iIGNsYXNzPSJ0aGlzUGF0aElkIiB2YWx1ZT0iOzIxNTk2OyIgLz48aDMgY2xhc3M9Im1lbnVoZWFkZXIiPjxhIGNsYXNzPSJwdWJsaWNBY2Nlc3MiIGhyZWY9Ii9wdWJsaWMvcmVmZXJyYWwvZmluZGNwYS5hc3B4IiB0aXRsZT0iRmluZCBhIENQQSI%2BRmluZCBhIENQQTxpbnB1dCB0eXBlPSJoaWRkZW4iIGNsYXNzPSJwYWdlSWQiIHZhbHVlPSIyNTYxMSIgLz48L2E%2BPC9oMz4NCjxoMyBjbGFzcz0ibWVudWhlYWRlciBsYXN0Ij48YSBjbGFzcz0icHVibGljQWNjZXNzIGxhc3QiIGhyZWY9Ii9wdWJsaWMvcmVmZXJyYWwvZmlybXJlZmVydXBkYXRlLmFzcHgiIHRpdGxlPSJVcGRhdGUgWW91ciBMaXN0aW5nIj5VcGRhdGUgWW91ciBMaXN0aW5nPGlucHV0IHR5cGU9ImhpZGRlbiIgY2xhc3M9InBhZ2VJZCIgdmFsdWU9IjIzOTA5IiAvPjwvYT48L2gzPg0KPGRpdiBpZD0iY3RsMDBfUGFuZWxTZWNvbmRhcnlOYXZpZ2F0aW9uX29QYW5lbF8yMTU5Nl8xNV82X3BhcmVudE5vZGUiIHN0eWxlPSJkaXNwbGF5Om5vbmU7Ij48aDI%2BPGEgY2xhc3M9InB1YmxpY0FjY2VzcyBsYXN0IiBocmVmPSIvcHVibGljL3JlZmVycmFsL2ZpbmRjcGEuYXNweCIgdGl0bGU9IkZpbmQgYSBDUEEiPkZpbmQgYSBDUEE8aW5wdXQgdHlwZT0iaGlkZGVuIiBjbGFzcz0icGFnZUlkIiB2YWx1ZT0iMjE1OTYiIC8%2BPC9hPjwvaDI%2BDQo8L2Rpdj4NCjwvZGl2Pg0KDQo8c2NyaXB0Pg0KICAgIA0KLy87MjE1OTY7DQpkZGFjY29yZGlvbi5pbml0KHsNCgloZWFkZXJjbGFzczogImV4cGFuZGFibGUiLA0KCWNvbnRlbnRjbGFzczogImNhdGVnb3J5aXRlbXMiLA0KCXJldmVhbHR5cGU6ICJtb3VzZW92ZXIiLA0KCW1vdXNlb3ZlcmRlbGF5OiA1MDAsDQoJY29sbGFwc2VwcmV2OiB0cnVlLA0KCWRlZmF1bHRleHBhbmRlZDogWy0xXSwNCglvbmVtdXN0b3BlbjogZmFsc2UsDQoJYW5pbWF0ZWRlZmF1bHQ6IGZhbHNlLA0KCXBlcnNpc3RzdGF0ZTogZmFsc2UsDQoJdG9nZ2xlY2xhc3M6IFsiIiwgIm9wZW5oZWFkZXIiXSwNCgl0b2dnbGVodG1sOiBbInByZWZpeCIsICIiLCAiIl0sDQoJYW5pbWF0ZXNwZWVkOiAiZmFzdCIsDQoJb25pbml0OmZ1bmN0aW9uKGhlYWRlcnMsIGV4cGFuZGVkaW5kaWNlcyl7IH0sDQoJb25vcGVuY2xvc2U6ZnVuY3Rpb24oaGVhZGVyLCBpbmRleCwgc3RhdGUsIGlzdXNlcmFjdGl2YXRlZCl7IH0NCn0pOw0KDQo8L3NjcmlwdD4NCh8AZ2QCCw9kFgICAg9kFgJmDxQrAAIPBcUBQztDOkJyeWNlV2ViR3JvdXAuV2ViLlVJLldlYkNvbnRyb2xzLkR5bmFtaWNDb250cm9sc1BsYWNlaG9sZGVyLCBCcnljZVdlYkdyb3VwLldlYi5VSS5XZWJDb250cm9scy5EeW5hbWljQ29udHJvbHNQbGFjZWhvbGRlciwgVmVyc2lvbj0yLjEuMC4wLCBDdWx0dXJlPW5ldXRyYWwsIFB1YmxpY0tleVRva2VuPTMwZDIzZjEwODVkZjNlNzI7b0RDUEgWAGQWAmYPZBYCZg8WAh4EVGV4dAW3BTxwIHN0eWxlPSJ0ZXh0LWFsaWduOiBjZW50ZXI7Ij48YSB0YXJnZXQ9Il9ibGFuayIgaHJlZj0iaHR0cDovL3d3dy5wYXljaGV4LmNvbS9hY2NvdW50aW5nLXByb2Zlc3Npb25hbHMvcmVzb3VyY2VzL2tub3dsZWRnZS1jZW50ZXIvIj48YSB0YXJnZXQ9Il9ibGFuayIgaHJlZj0iaHR0cHM6Ly93d3cuY2hlbHNlYWdyb3Rvbi5jb20vQnVzaW5lc3NzdHJvbmdCYW5raW5nc3Ryb25nL0J1c2luZXNzQmFua2luZ092ZXJ2aWV3LmFzcHgiPjxpbWcgYWx0PSIiIHNyYz0iaHR0cDovL3d3dy5jdGNwYXMub3JnL0NvbnRlbnQvRmlsZXMvSW1hZ2VzL0Jhbm5lckFkcy9DaGVsc2VhR3JvdG9uQmFuay5qcGciIC8%2BPC9hPiZuYnNwOzwvYT48L3A%2BDQo8cCBzdHlsZT0idGV4dC1hbGlnbjogY2VudGVyOyI%2BPGEgdGFyZ2V0PSJfYmxhbmsiIGhyZWY9Imh0dHA6Ly93d3cucGF5Y2hleC5jb20vYWNjb3VudGluZy1wcm9mZXNzaW9uYWxzL3Jlc291cmNlcy9rbm93bGVkZ2UtY2VudGVyLyI%2BPGltZyBhbHQ9IiIgc3JjPSJodHRwOi8vd3d3LmN0Y3Bhcy5vcmcvQ29udGVudC9GaWxlcy9JbWFnZXMvQmFubmVyQWRzL1BheWNoZXhfQmFubmVyQWRfQ1RfQ1BBLkpQRyIgLz48L2E%2BPGEgdGFyZ2V0PSJfYmxhbmsiIGhyZWY9Imh0dHA6Ly9sZWFwdGhlcG9uZC5jb20vY2hhbGxlbmdlcy1zb2x2ZWQvIj48YnIgLz4NCjxiciAvPg0KPC9hPjwvcD4NCg0KZAIPD2QWAgIED2QWBAIJDxAPFgYeDkRhdGFWYWx1ZUZpZWxkBQRjb2RlHg1EYXRhVGV4dEZpZWxkBQhjb2RlZGVzYx4LXyFEYXRhQm91bmRnZBAVCgNBbGwJRmFpcmZpZWxkCEhhcnRmb3JkCkxpdGNoZmllbGQJTWlkZGxlc2V4CU5ldyBIYXZlbgpOZXcgTG9uZG9uDE91dC1vZi1TdGF0ZQdUb2xsYW5kB1dpbmRoYW0VCgNBbGwDMDA0AzAwMQMwMDYDMDA3AzAwMgMwMDMDT1VUAzAwOAMwMDUUKwMKZ2dnZ2dnZ2dnZxYBZmQCCw8QDxYGHwMFBGNvZGUfBAUIY29kZWRlc2MfBWdkEBUhA0FsbBdBY2NvdW50aW5nIGFuZCBBdWRpdGluZwtBZ3JpY3VsdHVyZQ1BdWRpdC1HZW5lcmFsEkF1ZGl0LUdvdmVybm1lbnRhbBBBdWRpdC1Ob24tUHJvZml0C0Jvb2trZWVwaW5nEkJ1c2luZXNzIFZhbHVhdGlvbgxDb25zdHJ1Y3Rpb24PQ29ycG9yYXRlIFRheGVzDUVzdGF0ZS9UcnVzdHMWRm9yZWlnbiBMYW5ndWFnZS1PdGhlchhGb3JlaWduIExhbmd1YWdlLVNwYW5pc2gTRm9yZW5zaWMgQWNjb3VudGluZxRGcmF1ZCBJbnZlc3RpZ2F0aW9ucwpIZWFsdGhjYXJlEEluZGl2aWR1YWwgVGF4ZXMTSW50ZXJuYXRpb25hbCBUYXhlcwJJVBJMaXRpZ2F0aW9uIFN1cHBvcnQNTWFudWZhY3R1cmluZwpOb24tUHJvZml0DFBhcnRuZXJzaGlwcxtQZXJzb25hbCBGaW5hbmNpYWwgUGxhbm5pbmcLUmVhbCBFc3RhdGUGUmV0YWlsE1JldGlyZW1lbnQgUGxhbm5pbmcQU2VydmljZSBCdXNpbmVzcw5TbWFsbCBCdXNpbmVzcxlTbWFsbCBCdXNpbmVzcyBBc3Npc3RhbmNlE1N1Y2Nlc3Npb24gUGxhbm5pbmcRV2VhbHRoIE1hbmFnZW1lbnQJV2hvbGVzYWxlFSEDQWxsAkFBAkFHAkFJAkFEAkFVAkJPAkJWAkoxAkIxAkQxAkZPAkZMAkZBAkZJAkhFAkExAkMxAklUAkxJAksxAlkxAkUxAk4xAkwxAkgxAlJQAkcxAkYxAlNNAlNQAldNAkkxFCsDIWdnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZxYBZmQCEQ9kFgICAg9kFgJmDxQrAAIPBcUBQztDOkJyeWNlV2ViR3JvdXAuV2ViLlVJLldlYkNvbnRyb2xzLkR5bmFtaWNDb250cm9sc1BsYWNlaG9sZGVyLCBCcnljZVdlYkdyb3VwLldlYi5VSS5XZWJDb250cm9scy5EeW5hbWljQ29udHJvbHNQbGFjZWhvbGRlciwgVmVyc2lvbj0yLjEuMC4wLCBDdWx0dXJlPW5ldXRyYWwsIFB1YmxpY0tleVRva2VuPTMwZDIzZjEwODVkZjNlNzI7b0RDUEgWAGRkGAEFHl9fQ29udHJvbHNSZXF1aXJlUG9zdEJhY2tLZXlfXxYEBRxjdGwwMCRQYW5lbENvbnRlbnQkYm94Q291bnR5BR5jdGwwMCRQYW5lbENvbnRlbnQkYm94U2VydmljZXMFHGN0bDAwJFBhbmVsQ29udGVudCRidG5TZWFyY2gFG2N0bDAwJFBhbmVsQ29udGVudCRidG5DbGVhcibC5UwRQHpSP0qdBnngRtKS0Yz7&__VIEWSTATEGENERATOR=5F942784&__EVENTVALIDATION=%2FwEWMAL7maL%2BAQLgqMmpCgL9ucvfCAKPsf63BgLkrbTTCAK36ZuTCQK%2B2%2FDlBAKV8O6SDgKS%2Fvm4AwKJl9alBQK1ofHHCAKgmq7MBgLDwpL4AgLr5Y%2FpDgLJxefyCALJxc%2FyCALJxYfyCALJxdvyCALJxZfyCALIxe%2FyCALIxZPyCALwxafvCALIxafvCALKxafvCALMxe%2FyCALMxfvyCALMxefyCALMxYfyCAL%2BxdfyCALJxafvCALLxafvCALxxZvyCALyxYfyCALzxafvCALhxafvCALNxafvCAL0xafvCALyxafvCAL%2BxafvCAL4xavyCALPxafvCALMxafvCAL7xffyCAL7xavyCAL%2FxffyCALxxafvCAKEksnUAwKjj6LABdMvLro%2ByDJFsGGkgkaozlIVdr2p&ctl00%24PanelContent%24tbCompany=&ctl00%24PanelContent%24tbZip=&ctl00%24PanelContent%24boxCounty=003&ctl00%24PanelContent%24boxServices=All&ctl00%24PanelContent%24btnSearch.x=22&ctl00%24PanelContent%24btnSearch.y=12";
		$this->LoadPostUrl('http://www.ctcpas.org/Public/Referral/findcpa.aspx?ii=3',$data,true);
		$this->queuedFetch();
		$this->parseData();

		$data = "__EVENTTARGET=&__EVENTARGUMENT=&__VIEWSTATE=%2FwEPDwUKMjA0MjU5MjU2Ng9kFgJmD2QWDgIBD2QWAmYPZBYCAgIPZBYCZg8UKwACDwXFAUM7QzpCcnljZVdlYkdyb3VwLldlYi5VSS5XZWJDb250cm9scy5EeW5hbWljQ29udHJvbHNQbGFjZWhvbGRlciwgQnJ5Y2VXZWJHcm91cC5XZWIuVUkuV2ViQ29udHJvbHMuRHluYW1pY0NvbnRyb2xzUGxhY2Vob2xkZXIsIFZlcnNpb249Mi4xLjAuMCwgQ3VsdHVyZT1uZXV0cmFsLCBQdWJsaWNLZXlUb2tlbj0zMGQyM2YxMDg1ZGYzZTcyO29EQ1BIFgBkZAIDD2QWAgICD2QWAmYPFCsAAg8FxQFDO0M6QnJ5Y2VXZWJHcm91cC5XZWIuVUkuV2ViQ29udHJvbHMuRHluYW1pY0NvbnRyb2xzUGxhY2Vob2xkZXIsIEJyeWNlV2ViR3JvdXAuV2ViLlVJLldlYkNvbnRyb2xzLkR5bmFtaWNDb250cm9sc1BsYWNlaG9sZGVyLCBWZXJzaW9uPTIuMS4wLjAsIEN1bHR1cmU9bmV1dHJhbCwgUHVibGljS2V5VG9rZW49MzBkMjNmMTA4NWRmM2U3MjtvRENQSBYAZGQCBQ9kFgICAg9kFgJmDxQrAAIPBcUBQztDOkJyeWNlV2ViR3JvdXAuV2ViLlVJLldlYkNvbnRyb2xzLkR5bmFtaWNDb250cm9sc1BsYWNlaG9sZGVyLCBCcnljZVdlYkdyb3VwLldlYi5VSS5XZWJDb250cm9scy5EeW5hbWljQ29udHJvbHNQbGFjZWhvbGRlciwgVmVyc2lvbj0yLjEuMC4wLCBDdWx0dXJlPW5ldXRyYWwsIFB1YmxpY0tleVRva2VuPTMwZDIzZjEwODVkZjNlNzI7b0RDUEgWAGRkAgkPZBYCAgIPZBYEZg8WAh4HVmlzaWJsZWhkAgIPFgQeCWlubmVyaHRtbAWZCg0KPGRpdiBjbGFzcz0iYXJyb3dsaXN0bWVudSI%2BDQo8aW5wdXQgdHlwZT0iaGlkZGVuIiBjbGFzcz0idGhpc1BhZ2VJZCIgdmFsdWU9IjIxNTk2IiAvPjxpbnB1dCB0eXBlPSJoaWRkZW4iIGNsYXNzPSJ0aGlzUGF0aElkIiB2YWx1ZT0iOzIxNTk2OyIgLz48aDMgY2xhc3M9Im1lbnVoZWFkZXIiPjxhIGNsYXNzPSJwdWJsaWNBY2Nlc3MiIGhyZWY9Ii9wdWJsaWMvcmVmZXJyYWwvZmluZGNwYS5hc3B4IiB0aXRsZT0iRmluZCBhIENQQSI%2BRmluZCBhIENQQTxpbnB1dCB0eXBlPSJoaWRkZW4iIGNsYXNzPSJwYWdlSWQiIHZhbHVlPSIyNTYxMSIgLz48L2E%2BPC9oMz4NCjxoMyBjbGFzcz0ibWVudWhlYWRlciBsYXN0Ij48YSBjbGFzcz0icHVibGljQWNjZXNzIGxhc3QiIGhyZWY9Ii9wdWJsaWMvcmVmZXJyYWwvZmlybXJlZmVydXBkYXRlLmFzcHgiIHRpdGxlPSJVcGRhdGUgWW91ciBMaXN0aW5nIj5VcGRhdGUgWW91ciBMaXN0aW5nPGlucHV0IHR5cGU9ImhpZGRlbiIgY2xhc3M9InBhZ2VJZCIgdmFsdWU9IjIzOTA5IiAvPjwvYT48L2gzPg0KPGRpdiBpZD0iY3RsMDBfUGFuZWxTZWNvbmRhcnlOYXZpZ2F0aW9uX29QYW5lbF8yMTU5Nl8xNV82X3BhcmVudE5vZGUiIHN0eWxlPSJkaXNwbGF5Om5vbmU7Ij48aDI%2BPGEgY2xhc3M9InB1YmxpY0FjY2VzcyBsYXN0IiBocmVmPSIvcHVibGljL3JlZmVycmFsL2ZpbmRjcGEuYXNweCIgdGl0bGU9IkZpbmQgYSBDUEEiPkZpbmQgYSBDUEE8aW5wdXQgdHlwZT0iaGlkZGVuIiBjbGFzcz0icGFnZUlkIiB2YWx1ZT0iMjE1OTYiIC8%2BPC9hPjwvaDI%2BDQo8L2Rpdj4NCjwvZGl2Pg0KDQo8c2NyaXB0Pg0KICAgIA0KLy87MjE1OTY7DQpkZGFjY29yZGlvbi5pbml0KHsNCgloZWFkZXJjbGFzczogImV4cGFuZGFibGUiLA0KCWNvbnRlbnRjbGFzczogImNhdGVnb3J5aXRlbXMiLA0KCXJldmVhbHR5cGU6ICJtb3VzZW92ZXIiLA0KCW1vdXNlb3ZlcmRlbGF5OiA1MDAsDQoJY29sbGFwc2VwcmV2OiB0cnVlLA0KCWRlZmF1bHRleHBhbmRlZDogWy0xXSwNCglvbmVtdXN0b3BlbjogZmFsc2UsDQoJYW5pbWF0ZWRlZmF1bHQ6IGZhbHNlLA0KCXBlcnNpc3RzdGF0ZTogZmFsc2UsDQoJdG9nZ2xlY2xhc3M6IFsiIiwgIm9wZW5oZWFkZXIiXSwNCgl0b2dnbGVodG1sOiBbInByZWZpeCIsICIiLCAiIl0sDQoJYW5pbWF0ZXNwZWVkOiAiZmFzdCIsDQoJb25pbml0OmZ1bmN0aW9uKGhlYWRlcnMsIGV4cGFuZGVkaW5kaWNlcyl7IH0sDQoJb25vcGVuY2xvc2U6ZnVuY3Rpb24oaGVhZGVyLCBpbmRleCwgc3RhdGUsIGlzdXNlcmFjdGl2YXRlZCl7IH0NCn0pOw0KDQo8L3NjcmlwdD4NCh8AZ2QCCw9kFgICAg9kFgJmDxQrAAIPBcUBQztDOkJyeWNlV2ViR3JvdXAuV2ViLlVJLldlYkNvbnRyb2xzLkR5bmFtaWNDb250cm9sc1BsYWNlaG9sZGVyLCBCcnljZVdlYkdyb3VwLldlYi5VSS5XZWJDb250cm9scy5EeW5hbWljQ29udHJvbHNQbGFjZWhvbGRlciwgVmVyc2lvbj0yLjEuMC4wLCBDdWx0dXJlPW5ldXRyYWwsIFB1YmxpY0tleVRva2VuPTMwZDIzZjEwODVkZjNlNzI7b0RDUEgWAGQWAmYPZBYCZg8WAh4EVGV4dAW3BTxwIHN0eWxlPSJ0ZXh0LWFsaWduOiBjZW50ZXI7Ij48YSB0YXJnZXQ9Il9ibGFuayIgaHJlZj0iaHR0cDovL3d3dy5wYXljaGV4LmNvbS9hY2NvdW50aW5nLXByb2Zlc3Npb25hbHMvcmVzb3VyY2VzL2tub3dsZWRnZS1jZW50ZXIvIj48YSB0YXJnZXQ9Il9ibGFuayIgaHJlZj0iaHR0cHM6Ly93d3cuY2hlbHNlYWdyb3Rvbi5jb20vQnVzaW5lc3NzdHJvbmdCYW5raW5nc3Ryb25nL0J1c2luZXNzQmFua2luZ092ZXJ2aWV3LmFzcHgiPjxpbWcgYWx0PSIiIHNyYz0iaHR0cDovL3d3dy5jdGNwYXMub3JnL0NvbnRlbnQvRmlsZXMvSW1hZ2VzL0Jhbm5lckFkcy9DaGVsc2VhR3JvdG9uQmFuay5qcGciIC8%2BPC9hPiZuYnNwOzwvYT48L3A%2BDQo8cCBzdHlsZT0idGV4dC1hbGlnbjogY2VudGVyOyI%2BPGEgdGFyZ2V0PSJfYmxhbmsiIGhyZWY9Imh0dHA6Ly93d3cucGF5Y2hleC5jb20vYWNjb3VudGluZy1wcm9mZXNzaW9uYWxzL3Jlc291cmNlcy9rbm93bGVkZ2UtY2VudGVyLyI%2BPGltZyBhbHQ9IiIgc3JjPSJodHRwOi8vd3d3LmN0Y3Bhcy5vcmcvQ29udGVudC9GaWxlcy9JbWFnZXMvQmFubmVyQWRzL1BheWNoZXhfQmFubmVyQWRfQ1RfQ1BBLkpQRyIgLz48L2E%2BPGEgdGFyZ2V0PSJfYmxhbmsiIGhyZWY9Imh0dHA6Ly9sZWFwdGhlcG9uZC5jb20vY2hhbGxlbmdlcy1zb2x2ZWQvIj48YnIgLz4NCjxiciAvPg0KPC9hPjwvcD4NCg0KZAIPD2QWAgIED2QWBAIJDxAPFgYeDkRhdGFWYWx1ZUZpZWxkBQRjb2RlHg1EYXRhVGV4dEZpZWxkBQhjb2RlZGVzYx4LXyFEYXRhQm91bmRnZBAVCgNBbGwJRmFpcmZpZWxkCEhhcnRmb3JkCkxpdGNoZmllbGQJTWlkZGxlc2V4CU5ldyBIYXZlbgpOZXcgTG9uZG9uDE91dC1vZi1TdGF0ZQdUb2xsYW5kB1dpbmRoYW0VCgNBbGwDMDA0AzAwMQMwMDYDMDA3AzAwMgMwMDMDT1VUAzAwOAMwMDUUKwMKZ2dnZ2dnZ2dnZxYBZmQCCw8QDxYGHwMFBGNvZGUfBAUIY29kZWRlc2MfBWdkEBUhA0FsbBdBY2NvdW50aW5nIGFuZCBBdWRpdGluZwtBZ3JpY3VsdHVyZQ1BdWRpdC1HZW5lcmFsEkF1ZGl0LUdvdmVybm1lbnRhbBBBdWRpdC1Ob24tUHJvZml0C0Jvb2trZWVwaW5nEkJ1c2luZXNzIFZhbHVhdGlvbgxDb25zdHJ1Y3Rpb24PQ29ycG9yYXRlIFRheGVzDUVzdGF0ZS9UcnVzdHMWRm9yZWlnbiBMYW5ndWFnZS1PdGhlchhGb3JlaWduIExhbmd1YWdlLVNwYW5pc2gTRm9yZW5zaWMgQWNjb3VudGluZxRGcmF1ZCBJbnZlc3RpZ2F0aW9ucwpIZWFsdGhjYXJlEEluZGl2aWR1YWwgVGF4ZXMTSW50ZXJuYXRpb25hbCBUYXhlcwJJVBJMaXRpZ2F0aW9uIFN1cHBvcnQNTWFudWZhY3R1cmluZwpOb24tUHJvZml0DFBhcnRuZXJzaGlwcxtQZXJzb25hbCBGaW5hbmNpYWwgUGxhbm5pbmcLUmVhbCBFc3RhdGUGUmV0YWlsE1JldGlyZW1lbnQgUGxhbm5pbmcQU2VydmljZSBCdXNpbmVzcw5TbWFsbCBCdXNpbmVzcxlTbWFsbCBCdXNpbmVzcyBBc3Npc3RhbmNlE1N1Y2Nlc3Npb24gUGxhbm5pbmcRV2VhbHRoIE1hbmFnZW1lbnQJV2hvbGVzYWxlFSEDQWxsAkFBAkFHAkFJAkFEAkFVAkJPAkJWAkoxAkIxAkQxAkZPAkZMAkZBAkZJAkhFAkExAkMxAklUAkxJAksxAlkxAkUxAk4xAkwxAkgxAlJQAkcxAkYxAlNNAlNQAldNAkkxFCsDIWdnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZxYBZmQCEQ9kFgICAg9kFgJmDxQrAAIPBcUBQztDOkJyeWNlV2ViR3JvdXAuV2ViLlVJLldlYkNvbnRyb2xzLkR5bmFtaWNDb250cm9sc1BsYWNlaG9sZGVyLCBCcnljZVdlYkdyb3VwLldlYi5VSS5XZWJDb250cm9scy5EeW5hbWljQ29udHJvbHNQbGFjZWhvbGRlciwgVmVyc2lvbj0yLjEuMC4wLCBDdWx0dXJlPW5ldXRyYWwsIFB1YmxpY0tleVRva2VuPTMwZDIzZjEwODVkZjNlNzI7b0RDUEgWAGRkGAEFHl9fQ29udHJvbHNSZXF1aXJlUG9zdEJhY2tLZXlfXxYEBRxjdGwwMCRQYW5lbENvbnRlbnQkYm94Q291bnR5BR5jdGwwMCRQYW5lbENvbnRlbnQkYm94U2VydmljZXMFHGN0bDAwJFBhbmVsQ29udGVudCRidG5TZWFyY2gFG2N0bDAwJFBhbmVsQ29udGVudCRidG5DbGVhcibC5UwRQHpSP0qdBnngRtKS0Yz7&__VIEWSTATEGENERATOR=5F942784&__EVENTVALIDATION=%2FwEWMAL7maL%2BAQLgqMmpCgL9ucvfCAKPsf63BgLkrbTTCAK36ZuTCQK%2B2%2FDlBAKV8O6SDgKS%2Fvm4AwKJl9alBQK1ofHHCAKgmq7MBgLDwpL4AgLr5Y%2FpDgLJxefyCALJxc%2FyCALJxYfyCALJxdvyCALJxZfyCALIxe%2FyCALIxZPyCALwxafvCALIxafvCALKxafvCALMxe%2FyCALMxfvyCALMxefyCALMxYfyCAL%2BxdfyCALJxafvCALLxafvCALxxZvyCALyxYfyCALzxafvCALhxafvCALNxafvCAL0xafvCALyxafvCAL%2BxafvCAL4xavyCALPxafvCALMxafvCAL7xffyCAL7xavyCAL%2FxffyCALxxafvCAKEksnUAwKjj6LABdMvLro%2ByDJFsGGkgkaozlIVdr2p&ctl00%24PanelContent%24tbCompany=&ctl00%24PanelContent%24tbZip=&ctl00%24PanelContent%24boxCounty=004&ctl00%24PanelContent%24boxServices=All&ctl00%24PanelContent%24btnSearch.x=22&ctl00%24PanelContent%24btnSearch.y=12";
		$this->LoadPostUrl('http://www.ctcpas.org/Public/Referral/findcpa.aspx?ii=4',$data,true);
		$this->queuedFetch();
		$this->parseData();

		$data = "__EVENTTARGET=&__EVENTARGUMENT=&__VIEWSTATE=%2FwEPDwUKMjA0MjU5MjU2Ng9kFgJmD2QWDgIBD2QWAmYPZBYCAgIPZBYCZg8UKwACDwXFAUM7QzpCcnljZVdlYkdyb3VwLldlYi5VSS5XZWJDb250cm9scy5EeW5hbWljQ29udHJvbHNQbGFjZWhvbGRlciwgQnJ5Y2VXZWJHcm91cC5XZWIuVUkuV2ViQ29udHJvbHMuRHluYW1pY0NvbnRyb2xzUGxhY2Vob2xkZXIsIFZlcnNpb249Mi4xLjAuMCwgQ3VsdHVyZT1uZXV0cmFsLCBQdWJsaWNLZXlUb2tlbj0zMGQyM2YxMDg1ZGYzZTcyO29EQ1BIFgBkZAIDD2QWAgICD2QWAmYPFCsAAg8FxQFDO0M6QnJ5Y2VXZWJHcm91cC5XZWIuVUkuV2ViQ29udHJvbHMuRHluYW1pY0NvbnRyb2xzUGxhY2Vob2xkZXIsIEJyeWNlV2ViR3JvdXAuV2ViLlVJLldlYkNvbnRyb2xzLkR5bmFtaWNDb250cm9sc1BsYWNlaG9sZGVyLCBWZXJzaW9uPTIuMS4wLjAsIEN1bHR1cmU9bmV1dHJhbCwgUHVibGljS2V5VG9rZW49MzBkMjNmMTA4NWRmM2U3MjtvRENQSBYAZGQCBQ9kFgICAg9kFgJmDxQrAAIPBcUBQztDOkJyeWNlV2ViR3JvdXAuV2ViLlVJLldlYkNvbnRyb2xzLkR5bmFtaWNDb250cm9sc1BsYWNlaG9sZGVyLCBCcnljZVdlYkdyb3VwLldlYi5VSS5XZWJDb250cm9scy5EeW5hbWljQ29udHJvbHNQbGFjZWhvbGRlciwgVmVyc2lvbj0yLjEuMC4wLCBDdWx0dXJlPW5ldXRyYWwsIFB1YmxpY0tleVRva2VuPTMwZDIzZjEwODVkZjNlNzI7b0RDUEgWAGRkAgkPZBYCAgIPZBYEZg8WAh4HVmlzaWJsZWhkAgIPFgQeCWlubmVyaHRtbAWZCg0KPGRpdiBjbGFzcz0iYXJyb3dsaXN0bWVudSI%2BDQo8aW5wdXQgdHlwZT0iaGlkZGVuIiBjbGFzcz0idGhpc1BhZ2VJZCIgdmFsdWU9IjIxNTk2IiAvPjxpbnB1dCB0eXBlPSJoaWRkZW4iIGNsYXNzPSJ0aGlzUGF0aElkIiB2YWx1ZT0iOzIxNTk2OyIgLz48aDMgY2xhc3M9Im1lbnVoZWFkZXIiPjxhIGNsYXNzPSJwdWJsaWNBY2Nlc3MiIGhyZWY9Ii9wdWJsaWMvcmVmZXJyYWwvZmluZGNwYS5hc3B4IiB0aXRsZT0iRmluZCBhIENQQSI%2BRmluZCBhIENQQTxpbnB1dCB0eXBlPSJoaWRkZW4iIGNsYXNzPSJwYWdlSWQiIHZhbHVlPSIyNTYxMSIgLz48L2E%2BPC9oMz4NCjxoMyBjbGFzcz0ibWVudWhlYWRlciBsYXN0Ij48YSBjbGFzcz0icHVibGljQWNjZXNzIGxhc3QiIGhyZWY9Ii9wdWJsaWMvcmVmZXJyYWwvZmlybXJlZmVydXBkYXRlLmFzcHgiIHRpdGxlPSJVcGRhdGUgWW91ciBMaXN0aW5nIj5VcGRhdGUgWW91ciBMaXN0aW5nPGlucHV0IHR5cGU9ImhpZGRlbiIgY2xhc3M9InBhZ2VJZCIgdmFsdWU9IjIzOTA5IiAvPjwvYT48L2gzPg0KPGRpdiBpZD0iY3RsMDBfUGFuZWxTZWNvbmRhcnlOYXZpZ2F0aW9uX29QYW5lbF8yMTU5Nl8xNV82X3BhcmVudE5vZGUiIHN0eWxlPSJkaXNwbGF5Om5vbmU7Ij48aDI%2BPGEgY2xhc3M9InB1YmxpY0FjY2VzcyBsYXN0IiBocmVmPSIvcHVibGljL3JlZmVycmFsL2ZpbmRjcGEuYXNweCIgdGl0bGU9IkZpbmQgYSBDUEEiPkZpbmQgYSBDUEE8aW5wdXQgdHlwZT0iaGlkZGVuIiBjbGFzcz0icGFnZUlkIiB2YWx1ZT0iMjE1OTYiIC8%2BPC9hPjwvaDI%2BDQo8L2Rpdj4NCjwvZGl2Pg0KDQo8c2NyaXB0Pg0KICAgIA0KLy87MjE1OTY7DQpkZGFjY29yZGlvbi5pbml0KHsNCgloZWFkZXJjbGFzczogImV4cGFuZGFibGUiLA0KCWNvbnRlbnRjbGFzczogImNhdGVnb3J5aXRlbXMiLA0KCXJldmVhbHR5cGU6ICJtb3VzZW92ZXIiLA0KCW1vdXNlb3ZlcmRlbGF5OiA1MDAsDQoJY29sbGFwc2VwcmV2OiB0cnVlLA0KCWRlZmF1bHRleHBhbmRlZDogWy0xXSwNCglvbmVtdXN0b3BlbjogZmFsc2UsDQoJYW5pbWF0ZWRlZmF1bHQ6IGZhbHNlLA0KCXBlcnNpc3RzdGF0ZTogZmFsc2UsDQoJdG9nZ2xlY2xhc3M6IFsiIiwgIm9wZW5oZWFkZXIiXSwNCgl0b2dnbGVodG1sOiBbInByZWZpeCIsICIiLCAiIl0sDQoJYW5pbWF0ZXNwZWVkOiAiZmFzdCIsDQoJb25pbml0OmZ1bmN0aW9uKGhlYWRlcnMsIGV4cGFuZGVkaW5kaWNlcyl7IH0sDQoJb25vcGVuY2xvc2U6ZnVuY3Rpb24oaGVhZGVyLCBpbmRleCwgc3RhdGUsIGlzdXNlcmFjdGl2YXRlZCl7IH0NCn0pOw0KDQo8L3NjcmlwdD4NCh8AZ2QCCw9kFgICAg9kFgJmDxQrAAIPBcUBQztDOkJyeWNlV2ViR3JvdXAuV2ViLlVJLldlYkNvbnRyb2xzLkR5bmFtaWNDb250cm9sc1BsYWNlaG9sZGVyLCBCcnljZVdlYkdyb3VwLldlYi5VSS5XZWJDb250cm9scy5EeW5hbWljQ29udHJvbHNQbGFjZWhvbGRlciwgVmVyc2lvbj0yLjEuMC4wLCBDdWx0dXJlPW5ldXRyYWwsIFB1YmxpY0tleVRva2VuPTMwZDIzZjEwODVkZjNlNzI7b0RDUEgWAGQWAmYPZBYCZg8WAh4EVGV4dAW3BTxwIHN0eWxlPSJ0ZXh0LWFsaWduOiBjZW50ZXI7Ij48YSB0YXJnZXQ9Il9ibGFuayIgaHJlZj0iaHR0cDovL3d3dy5wYXljaGV4LmNvbS9hY2NvdW50aW5nLXByb2Zlc3Npb25hbHMvcmVzb3VyY2VzL2tub3dsZWRnZS1jZW50ZXIvIj48YSB0YXJnZXQ9Il9ibGFuayIgaHJlZj0iaHR0cHM6Ly93d3cuY2hlbHNlYWdyb3Rvbi5jb20vQnVzaW5lc3NzdHJvbmdCYW5raW5nc3Ryb25nL0J1c2luZXNzQmFua2luZ092ZXJ2aWV3LmFzcHgiPjxpbWcgYWx0PSIiIHNyYz0iaHR0cDovL3d3dy5jdGNwYXMub3JnL0NvbnRlbnQvRmlsZXMvSW1hZ2VzL0Jhbm5lckFkcy9DaGVsc2VhR3JvdG9uQmFuay5qcGciIC8%2BPC9hPiZuYnNwOzwvYT48L3A%2BDQo8cCBzdHlsZT0idGV4dC1hbGlnbjogY2VudGVyOyI%2BPGEgdGFyZ2V0PSJfYmxhbmsiIGhyZWY9Imh0dHA6Ly93d3cucGF5Y2hleC5jb20vYWNjb3VudGluZy1wcm9mZXNzaW9uYWxzL3Jlc291cmNlcy9rbm93bGVkZ2UtY2VudGVyLyI%2BPGltZyBhbHQ9IiIgc3JjPSJodHRwOi8vd3d3LmN0Y3Bhcy5vcmcvQ29udGVudC9GaWxlcy9JbWFnZXMvQmFubmVyQWRzL1BheWNoZXhfQmFubmVyQWRfQ1RfQ1BBLkpQRyIgLz48L2E%2BPGEgdGFyZ2V0PSJfYmxhbmsiIGhyZWY9Imh0dHA6Ly9sZWFwdGhlcG9uZC5jb20vY2hhbGxlbmdlcy1zb2x2ZWQvIj48YnIgLz4NCjxiciAvPg0KPC9hPjwvcD4NCg0KZAIPD2QWAgIED2QWBAIJDxAPFgYeDkRhdGFWYWx1ZUZpZWxkBQRjb2RlHg1EYXRhVGV4dEZpZWxkBQhjb2RlZGVzYx4LXyFEYXRhQm91bmRnZBAVCgNBbGwJRmFpcmZpZWxkCEhhcnRmb3JkCkxpdGNoZmllbGQJTWlkZGxlc2V4CU5ldyBIYXZlbgpOZXcgTG9uZG9uDE91dC1vZi1TdGF0ZQdUb2xsYW5kB1dpbmRoYW0VCgNBbGwDMDA0AzAwMQMwMDYDMDA3AzAwMgMwMDMDT1VUAzAwOAMwMDUUKwMKZ2dnZ2dnZ2dnZxYBZmQCCw8QDxYGHwMFBGNvZGUfBAUIY29kZWRlc2MfBWdkEBUhA0FsbBdBY2NvdW50aW5nIGFuZCBBdWRpdGluZwtBZ3JpY3VsdHVyZQ1BdWRpdC1HZW5lcmFsEkF1ZGl0LUdvdmVybm1lbnRhbBBBdWRpdC1Ob24tUHJvZml0C0Jvb2trZWVwaW5nEkJ1c2luZXNzIFZhbHVhdGlvbgxDb25zdHJ1Y3Rpb24PQ29ycG9yYXRlIFRheGVzDUVzdGF0ZS9UcnVzdHMWRm9yZWlnbiBMYW5ndWFnZS1PdGhlchhGb3JlaWduIExhbmd1YWdlLVNwYW5pc2gTRm9yZW5zaWMgQWNjb3VudGluZxRGcmF1ZCBJbnZlc3RpZ2F0aW9ucwpIZWFsdGhjYXJlEEluZGl2aWR1YWwgVGF4ZXMTSW50ZXJuYXRpb25hbCBUYXhlcwJJVBJMaXRpZ2F0aW9uIFN1cHBvcnQNTWFudWZhY3R1cmluZwpOb24tUHJvZml0DFBhcnRuZXJzaGlwcxtQZXJzb25hbCBGaW5hbmNpYWwgUGxhbm5pbmcLUmVhbCBFc3RhdGUGUmV0YWlsE1JldGlyZW1lbnQgUGxhbm5pbmcQU2VydmljZSBCdXNpbmVzcw5TbWFsbCBCdXNpbmVzcxlTbWFsbCBCdXNpbmVzcyBBc3Npc3RhbmNlE1N1Y2Nlc3Npb24gUGxhbm5pbmcRV2VhbHRoIE1hbmFnZW1lbnQJV2hvbGVzYWxlFSEDQWxsAkFBAkFHAkFJAkFEAkFVAkJPAkJWAkoxAkIxAkQxAkZPAkZMAkZBAkZJAkhFAkExAkMxAklUAkxJAksxAlkxAkUxAk4xAkwxAkgxAlJQAkcxAkYxAlNNAlNQAldNAkkxFCsDIWdnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZxYBZmQCEQ9kFgICAg9kFgJmDxQrAAIPBcUBQztDOkJyeWNlV2ViR3JvdXAuV2ViLlVJLldlYkNvbnRyb2xzLkR5bmFtaWNDb250cm9sc1BsYWNlaG9sZGVyLCBCcnljZVdlYkdyb3VwLldlYi5VSS5XZWJDb250cm9scy5EeW5hbWljQ29udHJvbHNQbGFjZWhvbGRlciwgVmVyc2lvbj0yLjEuMC4wLCBDdWx0dXJlPW5ldXRyYWwsIFB1YmxpY0tleVRva2VuPTMwZDIzZjEwODVkZjNlNzI7b0RDUEgWAGRkGAEFHl9fQ29udHJvbHNSZXF1aXJlUG9zdEJhY2tLZXlfXxYEBRxjdGwwMCRQYW5lbENvbnRlbnQkYm94Q291bnR5BR5jdGwwMCRQYW5lbENvbnRlbnQkYm94U2VydmljZXMFHGN0bDAwJFBhbmVsQ29udGVudCRidG5TZWFyY2gFG2N0bDAwJFBhbmVsQ29udGVudCRidG5DbGVhcibC5UwRQHpSP0qdBnngRtKS0Yz7&__VIEWSTATEGENERATOR=5F942784&__EVENTVALIDATION=%2FwEWMAL7maL%2BAQLgqMmpCgL9ucvfCAKPsf63BgLkrbTTCAK36ZuTCQK%2B2%2FDlBAKV8O6SDgKS%2Fvm4AwKJl9alBQK1ofHHCAKgmq7MBgLDwpL4AgLr5Y%2FpDgLJxefyCALJxc%2FyCALJxYfyCALJxdvyCALJxZfyCALIxe%2FyCALIxZPyCALwxafvCALIxafvCALKxafvCALMxe%2FyCALMxfvyCALMxefyCALMxYfyCAL%2BxdfyCALJxafvCALLxafvCALxxZvyCALyxYfyCALzxafvCALhxafvCALNxafvCAL0xafvCALyxafvCAL%2BxafvCAL4xavyCALPxafvCALMxafvCAL7xffyCAL7xavyCAL%2FxffyCALxxafvCAKEksnUAwKjj6LABdMvLro%2ByDJFsGGkgkaozlIVdr2p&ctl00%24PanelContent%24tbCompany=&ctl00%24PanelContent%24tbZip=&ctl00%24PanelContent%24boxCounty=005&ctl00%24PanelContent%24boxServices=All&ctl00%24PanelContent%24btnSearch.x=22&ctl00%24PanelContent%24btnSearch.y=12";
		$this->LoadPostUrl('http://www.ctcpas.org/Public/Referral/findcpa.aspx?ii=5',$data,true);
		$this->queuedFetch();
		$this->parseData();

		$data = "__EVENTTARGET=&__EVENTARGUMENT=&__VIEWSTATE=%2FwEPDwUKMjA0MjU5MjU2Ng9kFgJmD2QWDgIBD2QWAmYPZBYCAgIPZBYCZg8UKwACDwXFAUM7QzpCcnljZVdlYkdyb3VwLldlYi5VSS5XZWJDb250cm9scy5EeW5hbWljQ29udHJvbHNQbGFjZWhvbGRlciwgQnJ5Y2VXZWJHcm91cC5XZWIuVUkuV2ViQ29udHJvbHMuRHluYW1pY0NvbnRyb2xzUGxhY2Vob2xkZXIsIFZlcnNpb249Mi4xLjAuMCwgQ3VsdHVyZT1uZXV0cmFsLCBQdWJsaWNLZXlUb2tlbj0zMGQyM2YxMDg1ZGYzZTcyO29EQ1BIFgBkZAIDD2QWAgICD2QWAmYPFCsAAg8FxQFDO0M6QnJ5Y2VXZWJHcm91cC5XZWIuVUkuV2ViQ29udHJvbHMuRHluYW1pY0NvbnRyb2xzUGxhY2Vob2xkZXIsIEJyeWNlV2ViR3JvdXAuV2ViLlVJLldlYkNvbnRyb2xzLkR5bmFtaWNDb250cm9sc1BsYWNlaG9sZGVyLCBWZXJzaW9uPTIuMS4wLjAsIEN1bHR1cmU9bmV1dHJhbCwgUHVibGljS2V5VG9rZW49MzBkMjNmMTA4NWRmM2U3MjtvRENQSBYAZGQCBQ9kFgICAg9kFgJmDxQrAAIPBcUBQztDOkJyeWNlV2ViR3JvdXAuV2ViLlVJLldlYkNvbnRyb2xzLkR5bmFtaWNDb250cm9sc1BsYWNlaG9sZGVyLCBCcnljZVdlYkdyb3VwLldlYi5VSS5XZWJDb250cm9scy5EeW5hbWljQ29udHJvbHNQbGFjZWhvbGRlciwgVmVyc2lvbj0yLjEuMC4wLCBDdWx0dXJlPW5ldXRyYWwsIFB1YmxpY0tleVRva2VuPTMwZDIzZjEwODVkZjNlNzI7b0RDUEgWAGRkAgkPZBYCAgIPZBYEZg8WAh4HVmlzaWJsZWhkAgIPFgQeCWlubmVyaHRtbAWZCg0KPGRpdiBjbGFzcz0iYXJyb3dsaXN0bWVudSI%2BDQo8aW5wdXQgdHlwZT0iaGlkZGVuIiBjbGFzcz0idGhpc1BhZ2VJZCIgdmFsdWU9IjIxNTk2IiAvPjxpbnB1dCB0eXBlPSJoaWRkZW4iIGNsYXNzPSJ0aGlzUGF0aElkIiB2YWx1ZT0iOzIxNTk2OyIgLz48aDMgY2xhc3M9Im1lbnVoZWFkZXIiPjxhIGNsYXNzPSJwdWJsaWNBY2Nlc3MiIGhyZWY9Ii9wdWJsaWMvcmVmZXJyYWwvZmluZGNwYS5hc3B4IiB0aXRsZT0iRmluZCBhIENQQSI%2BRmluZCBhIENQQTxpbnB1dCB0eXBlPSJoaWRkZW4iIGNsYXNzPSJwYWdlSWQiIHZhbHVlPSIyNTYxMSIgLz48L2E%2BPC9oMz4NCjxoMyBjbGFzcz0ibWVudWhlYWRlciBsYXN0Ij48YSBjbGFzcz0icHVibGljQWNjZXNzIGxhc3QiIGhyZWY9Ii9wdWJsaWMvcmVmZXJyYWwvZmlybXJlZmVydXBkYXRlLmFzcHgiIHRpdGxlPSJVcGRhdGUgWW91ciBMaXN0aW5nIj5VcGRhdGUgWW91ciBMaXN0aW5nPGlucHV0IHR5cGU9ImhpZGRlbiIgY2xhc3M9InBhZ2VJZCIgdmFsdWU9IjIzOTA5IiAvPjwvYT48L2gzPg0KPGRpdiBpZD0iY3RsMDBfUGFuZWxTZWNvbmRhcnlOYXZpZ2F0aW9uX29QYW5lbF8yMTU5Nl8xNV82X3BhcmVudE5vZGUiIHN0eWxlPSJkaXNwbGF5Om5vbmU7Ij48aDI%2BPGEgY2xhc3M9InB1YmxpY0FjY2VzcyBsYXN0IiBocmVmPSIvcHVibGljL3JlZmVycmFsL2ZpbmRjcGEuYXNweCIgdGl0bGU9IkZpbmQgYSBDUEEiPkZpbmQgYSBDUEE8aW5wdXQgdHlwZT0iaGlkZGVuIiBjbGFzcz0icGFnZUlkIiB2YWx1ZT0iMjE1OTYiIC8%2BPC9hPjwvaDI%2BDQo8L2Rpdj4NCjwvZGl2Pg0KDQo8c2NyaXB0Pg0KICAgIA0KLy87MjE1OTY7DQpkZGFjY29yZGlvbi5pbml0KHsNCgloZWFkZXJjbGFzczogImV4cGFuZGFibGUiLA0KCWNvbnRlbnRjbGFzczogImNhdGVnb3J5aXRlbXMiLA0KCXJldmVhbHR5cGU6ICJtb3VzZW92ZXIiLA0KCW1vdXNlb3ZlcmRlbGF5OiA1MDAsDQoJY29sbGFwc2VwcmV2OiB0cnVlLA0KCWRlZmF1bHRleHBhbmRlZDogWy0xXSwNCglvbmVtdXN0b3BlbjogZmFsc2UsDQoJYW5pbWF0ZWRlZmF1bHQ6IGZhbHNlLA0KCXBlcnNpc3RzdGF0ZTogZmFsc2UsDQoJdG9nZ2xlY2xhc3M6IFsiIiwgIm9wZW5oZWFkZXIiXSwNCgl0b2dnbGVodG1sOiBbInByZWZpeCIsICIiLCAiIl0sDQoJYW5pbWF0ZXNwZWVkOiAiZmFzdCIsDQoJb25pbml0OmZ1bmN0aW9uKGhlYWRlcnMsIGV4cGFuZGVkaW5kaWNlcyl7IH0sDQoJb25vcGVuY2xvc2U6ZnVuY3Rpb24oaGVhZGVyLCBpbmRleCwgc3RhdGUsIGlzdXNlcmFjdGl2YXRlZCl7IH0NCn0pOw0KDQo8L3NjcmlwdD4NCh8AZ2QCCw9kFgICAg9kFgJmDxQrAAIPBcUBQztDOkJyeWNlV2ViR3JvdXAuV2ViLlVJLldlYkNvbnRyb2xzLkR5bmFtaWNDb250cm9sc1BsYWNlaG9sZGVyLCBCcnljZVdlYkdyb3VwLldlYi5VSS5XZWJDb250cm9scy5EeW5hbWljQ29udHJvbHNQbGFjZWhvbGRlciwgVmVyc2lvbj0yLjEuMC4wLCBDdWx0dXJlPW5ldXRyYWwsIFB1YmxpY0tleVRva2VuPTMwZDIzZjEwODVkZjNlNzI7b0RDUEgWAGQWAmYPZBYCZg8WAh4EVGV4dAW3BTxwIHN0eWxlPSJ0ZXh0LWFsaWduOiBjZW50ZXI7Ij48YSB0YXJnZXQ9Il9ibGFuayIgaHJlZj0iaHR0cDovL3d3dy5wYXljaGV4LmNvbS9hY2NvdW50aW5nLXByb2Zlc3Npb25hbHMvcmVzb3VyY2VzL2tub3dsZWRnZS1jZW50ZXIvIj48YSB0YXJnZXQ9Il9ibGFuayIgaHJlZj0iaHR0cHM6Ly93d3cuY2hlbHNlYWdyb3Rvbi5jb20vQnVzaW5lc3NzdHJvbmdCYW5raW5nc3Ryb25nL0J1c2luZXNzQmFua2luZ092ZXJ2aWV3LmFzcHgiPjxpbWcgYWx0PSIiIHNyYz0iaHR0cDovL3d3dy5jdGNwYXMub3JnL0NvbnRlbnQvRmlsZXMvSW1hZ2VzL0Jhbm5lckFkcy9DaGVsc2VhR3JvdG9uQmFuay5qcGciIC8%2BPC9hPiZuYnNwOzwvYT48L3A%2BDQo8cCBzdHlsZT0idGV4dC1hbGlnbjogY2VudGVyOyI%2BPGEgdGFyZ2V0PSJfYmxhbmsiIGhyZWY9Imh0dHA6Ly93d3cucGF5Y2hleC5jb20vYWNjb3VudGluZy1wcm9mZXNzaW9uYWxzL3Jlc291cmNlcy9rbm93bGVkZ2UtY2VudGVyLyI%2BPGltZyBhbHQ9IiIgc3JjPSJodHRwOi8vd3d3LmN0Y3Bhcy5vcmcvQ29udGVudC9GaWxlcy9JbWFnZXMvQmFubmVyQWRzL1BheWNoZXhfQmFubmVyQWRfQ1RfQ1BBLkpQRyIgLz48L2E%2BPGEgdGFyZ2V0PSJfYmxhbmsiIGhyZWY9Imh0dHA6Ly9sZWFwdGhlcG9uZC5jb20vY2hhbGxlbmdlcy1zb2x2ZWQvIj48YnIgLz4NCjxiciAvPg0KPC9hPjwvcD4NCg0KZAIPD2QWAgIED2QWBAIJDxAPFgYeDkRhdGFWYWx1ZUZpZWxkBQRjb2RlHg1EYXRhVGV4dEZpZWxkBQhjb2RlZGVzYx4LXyFEYXRhQm91bmRnZBAVCgNBbGwJRmFpcmZpZWxkCEhhcnRmb3JkCkxpdGNoZmllbGQJTWlkZGxlc2V4CU5ldyBIYXZlbgpOZXcgTG9uZG9uDE91dC1vZi1TdGF0ZQdUb2xsYW5kB1dpbmRoYW0VCgNBbGwDMDA0AzAwMQMwMDYDMDA3AzAwMgMwMDMDT1VUAzAwOAMwMDUUKwMKZ2dnZ2dnZ2dnZxYBZmQCCw8QDxYGHwMFBGNvZGUfBAUIY29kZWRlc2MfBWdkEBUhA0FsbBdBY2NvdW50aW5nIGFuZCBBdWRpdGluZwtBZ3JpY3VsdHVyZQ1BdWRpdC1HZW5lcmFsEkF1ZGl0LUdvdmVybm1lbnRhbBBBdWRpdC1Ob24tUHJvZml0C0Jvb2trZWVwaW5nEkJ1c2luZXNzIFZhbHVhdGlvbgxDb25zdHJ1Y3Rpb24PQ29ycG9yYXRlIFRheGVzDUVzdGF0ZS9UcnVzdHMWRm9yZWlnbiBMYW5ndWFnZS1PdGhlchhGb3JlaWduIExhbmd1YWdlLVNwYW5pc2gTRm9yZW5zaWMgQWNjb3VudGluZxRGcmF1ZCBJbnZlc3RpZ2F0aW9ucwpIZWFsdGhjYXJlEEluZGl2aWR1YWwgVGF4ZXMTSW50ZXJuYXRpb25hbCBUYXhlcwJJVBJMaXRpZ2F0aW9uIFN1cHBvcnQNTWFudWZhY3R1cmluZwpOb24tUHJvZml0DFBhcnRuZXJzaGlwcxtQZXJzb25hbCBGaW5hbmNpYWwgUGxhbm5pbmcLUmVhbCBFc3RhdGUGUmV0YWlsE1JldGlyZW1lbnQgUGxhbm5pbmcQU2VydmljZSBCdXNpbmVzcw5TbWFsbCBCdXNpbmVzcxlTbWFsbCBCdXNpbmVzcyBBc3Npc3RhbmNlE1N1Y2Nlc3Npb24gUGxhbm5pbmcRV2VhbHRoIE1hbmFnZW1lbnQJV2hvbGVzYWxlFSEDQWxsAkFBAkFHAkFJAkFEAkFVAkJPAkJWAkoxAkIxAkQxAkZPAkZMAkZBAkZJAkhFAkExAkMxAklUAkxJAksxAlkxAkUxAk4xAkwxAkgxAlJQAkcxAkYxAlNNAlNQAldNAkkxFCsDIWdnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZxYBZmQCEQ9kFgICAg9kFgJmDxQrAAIPBcUBQztDOkJyeWNlV2ViR3JvdXAuV2ViLlVJLldlYkNvbnRyb2xzLkR5bmFtaWNDb250cm9sc1BsYWNlaG9sZGVyLCBCcnljZVdlYkdyb3VwLldlYi5VSS5XZWJDb250cm9scy5EeW5hbWljQ29udHJvbHNQbGFjZWhvbGRlciwgVmVyc2lvbj0yLjEuMC4wLCBDdWx0dXJlPW5ldXRyYWwsIFB1YmxpY0tleVRva2VuPTMwZDIzZjEwODVkZjNlNzI7b0RDUEgWAGRkGAEFHl9fQ29udHJvbHNSZXF1aXJlUG9zdEJhY2tLZXlfXxYEBRxjdGwwMCRQYW5lbENvbnRlbnQkYm94Q291bnR5BR5jdGwwMCRQYW5lbENvbnRlbnQkYm94U2VydmljZXMFHGN0bDAwJFBhbmVsQ29udGVudCRidG5TZWFyY2gFG2N0bDAwJFBhbmVsQ29udGVudCRidG5DbGVhcibC5UwRQHpSP0qdBnngRtKS0Yz7&__VIEWSTATEGENERATOR=5F942784&__EVENTVALIDATION=%2FwEWMAL7maL%2BAQLgqMmpCgL9ucvfCAKPsf63BgLkrbTTCAK36ZuTCQK%2B2%2FDlBAKV8O6SDgKS%2Fvm4AwKJl9alBQK1ofHHCAKgmq7MBgLDwpL4AgLr5Y%2FpDgLJxefyCALJxc%2FyCALJxYfyCALJxdvyCALJxZfyCALIxe%2FyCALIxZPyCALwxafvCALIxafvCALKxafvCALMxe%2FyCALMxfvyCALMxefyCALMxYfyCAL%2BxdfyCALJxafvCALLxafvCALxxZvyCALyxYfyCALzxafvCALhxafvCALNxafvCAL0xafvCALyxafvCAL%2BxafvCAL4xavyCALPxafvCALMxafvCAL7xffyCAL7xavyCAL%2FxffyCALxxafvCAKEksnUAwKjj6LABdMvLro%2ByDJFsGGkgkaozlIVdr2p&ctl00%24PanelContent%24tbCompany=&ctl00%24PanelContent%24tbZip=&ctl00%24PanelContent%24boxCounty=006&ctl00%24PanelContent%24boxServices=All&ctl00%24PanelContent%24btnSearch.x=22&ctl00%24PanelContent%24btnSearch.y=12";
		$this->LoadPostUrl('http://www.ctcpas.org/Public/Referral/findcpa.aspx?ii=6',$data,true);
		$this->queuedFetch();
		$this->parseData();

		$data = "__EVENTTARGET=&__EVENTARGUMENT=&__VIEWSTATE=%2FwEPDwUKMjA0MjU5MjU2Ng9kFgJmD2QWDgIBD2QWAmYPZBYCAgIPZBYCZg8UKwACDwXFAUM7QzpCcnljZVdlYkdyb3VwLldlYi5VSS5XZWJDb250cm9scy5EeW5hbWljQ29udHJvbHNQbGFjZWhvbGRlciwgQnJ5Y2VXZWJHcm91cC5XZWIuVUkuV2ViQ29udHJvbHMuRHluYW1pY0NvbnRyb2xzUGxhY2Vob2xkZXIsIFZlcnNpb249Mi4xLjAuMCwgQ3VsdHVyZT1uZXV0cmFsLCBQdWJsaWNLZXlUb2tlbj0zMGQyM2YxMDg1ZGYzZTcyO29EQ1BIFgBkZAIDD2QWAgICD2QWAmYPFCsAAg8FxQFDO0M6QnJ5Y2VXZWJHcm91cC5XZWIuVUkuV2ViQ29udHJvbHMuRHluYW1pY0NvbnRyb2xzUGxhY2Vob2xkZXIsIEJyeWNlV2ViR3JvdXAuV2ViLlVJLldlYkNvbnRyb2xzLkR5bmFtaWNDb250cm9sc1BsYWNlaG9sZGVyLCBWZXJzaW9uPTIuMS4wLjAsIEN1bHR1cmU9bmV1dHJhbCwgUHVibGljS2V5VG9rZW49MzBkMjNmMTA4NWRmM2U3MjtvRENQSBYAZGQCBQ9kFgICAg9kFgJmDxQrAAIPBcUBQztDOkJyeWNlV2ViR3JvdXAuV2ViLlVJLldlYkNvbnRyb2xzLkR5bmFtaWNDb250cm9sc1BsYWNlaG9sZGVyLCBCcnljZVdlYkdyb3VwLldlYi5VSS5XZWJDb250cm9scy5EeW5hbWljQ29udHJvbHNQbGFjZWhvbGRlciwgVmVyc2lvbj0yLjEuMC4wLCBDdWx0dXJlPW5ldXRyYWwsIFB1YmxpY0tleVRva2VuPTMwZDIzZjEwODVkZjNlNzI7b0RDUEgWAGRkAgkPZBYCAgIPZBYEZg8WAh4HVmlzaWJsZWhkAgIPFgQeCWlubmVyaHRtbAWZCg0KPGRpdiBjbGFzcz0iYXJyb3dsaXN0bWVudSI%2BDQo8aW5wdXQgdHlwZT0iaGlkZGVuIiBjbGFzcz0idGhpc1BhZ2VJZCIgdmFsdWU9IjIxNTk2IiAvPjxpbnB1dCB0eXBlPSJoaWRkZW4iIGNsYXNzPSJ0aGlzUGF0aElkIiB2YWx1ZT0iOzIxNTk2OyIgLz48aDMgY2xhc3M9Im1lbnVoZWFkZXIiPjxhIGNsYXNzPSJwdWJsaWNBY2Nlc3MiIGhyZWY9Ii9wdWJsaWMvcmVmZXJyYWwvZmluZGNwYS5hc3B4IiB0aXRsZT0iRmluZCBhIENQQSI%2BRmluZCBhIENQQTxpbnB1dCB0eXBlPSJoaWRkZW4iIGNsYXNzPSJwYWdlSWQiIHZhbHVlPSIyNTYxMSIgLz48L2E%2BPC9oMz4NCjxoMyBjbGFzcz0ibWVudWhlYWRlciBsYXN0Ij48YSBjbGFzcz0icHVibGljQWNjZXNzIGxhc3QiIGhyZWY9Ii9wdWJsaWMvcmVmZXJyYWwvZmlybXJlZmVydXBkYXRlLmFzcHgiIHRpdGxlPSJVcGRhdGUgWW91ciBMaXN0aW5nIj5VcGRhdGUgWW91ciBMaXN0aW5nPGlucHV0IHR5cGU9ImhpZGRlbiIgY2xhc3M9InBhZ2VJZCIgdmFsdWU9IjIzOTA5IiAvPjwvYT48L2gzPg0KPGRpdiBpZD0iY3RsMDBfUGFuZWxTZWNvbmRhcnlOYXZpZ2F0aW9uX29QYW5lbF8yMTU5Nl8xNV82X3BhcmVudE5vZGUiIHN0eWxlPSJkaXNwbGF5Om5vbmU7Ij48aDI%2BPGEgY2xhc3M9InB1YmxpY0FjY2VzcyBsYXN0IiBocmVmPSIvcHVibGljL3JlZmVycmFsL2ZpbmRjcGEuYXNweCIgdGl0bGU9IkZpbmQgYSBDUEEiPkZpbmQgYSBDUEE8aW5wdXQgdHlwZT0iaGlkZGVuIiBjbGFzcz0icGFnZUlkIiB2YWx1ZT0iMjE1OTYiIC8%2BPC9hPjwvaDI%2BDQo8L2Rpdj4NCjwvZGl2Pg0KDQo8c2NyaXB0Pg0KICAgIA0KLy87MjE1OTY7DQpkZGFjY29yZGlvbi5pbml0KHsNCgloZWFkZXJjbGFzczogImV4cGFuZGFibGUiLA0KCWNvbnRlbnRjbGFzczogImNhdGVnb3J5aXRlbXMiLA0KCXJldmVhbHR5cGU6ICJtb3VzZW92ZXIiLA0KCW1vdXNlb3ZlcmRlbGF5OiA1MDAsDQoJY29sbGFwc2VwcmV2OiB0cnVlLA0KCWRlZmF1bHRleHBhbmRlZDogWy0xXSwNCglvbmVtdXN0b3BlbjogZmFsc2UsDQoJYW5pbWF0ZWRlZmF1bHQ6IGZhbHNlLA0KCXBlcnNpc3RzdGF0ZTogZmFsc2UsDQoJdG9nZ2xlY2xhc3M6IFsiIiwgIm9wZW5oZWFkZXIiXSwNCgl0b2dnbGVodG1sOiBbInByZWZpeCIsICIiLCAiIl0sDQoJYW5pbWF0ZXNwZWVkOiAiZmFzdCIsDQoJb25pbml0OmZ1bmN0aW9uKGhlYWRlcnMsIGV4cGFuZGVkaW5kaWNlcyl7IH0sDQoJb25vcGVuY2xvc2U6ZnVuY3Rpb24oaGVhZGVyLCBpbmRleCwgc3RhdGUsIGlzdXNlcmFjdGl2YXRlZCl7IH0NCn0pOw0KDQo8L3NjcmlwdD4NCh8AZ2QCCw9kFgICAg9kFgJmDxQrAAIPBcUBQztDOkJyeWNlV2ViR3JvdXAuV2ViLlVJLldlYkNvbnRyb2xzLkR5bmFtaWNDb250cm9sc1BsYWNlaG9sZGVyLCBCcnljZVdlYkdyb3VwLldlYi5VSS5XZWJDb250cm9scy5EeW5hbWljQ29udHJvbHNQbGFjZWhvbGRlciwgVmVyc2lvbj0yLjEuMC4wLCBDdWx0dXJlPW5ldXRyYWwsIFB1YmxpY0tleVRva2VuPTMwZDIzZjEwODVkZjNlNzI7b0RDUEgWAGQWAmYPZBYCZg8WAh4EVGV4dAW3BTxwIHN0eWxlPSJ0ZXh0LWFsaWduOiBjZW50ZXI7Ij48YSB0YXJnZXQ9Il9ibGFuayIgaHJlZj0iaHR0cDovL3d3dy5wYXljaGV4LmNvbS9hY2NvdW50aW5nLXByb2Zlc3Npb25hbHMvcmVzb3VyY2VzL2tub3dsZWRnZS1jZW50ZXIvIj48YSB0YXJnZXQ9Il9ibGFuayIgaHJlZj0iaHR0cHM6Ly93d3cuY2hlbHNlYWdyb3Rvbi5jb20vQnVzaW5lc3NzdHJvbmdCYW5raW5nc3Ryb25nL0J1c2luZXNzQmFua2luZ092ZXJ2aWV3LmFzcHgiPjxpbWcgYWx0PSIiIHNyYz0iaHR0cDovL3d3dy5jdGNwYXMub3JnL0NvbnRlbnQvRmlsZXMvSW1hZ2VzL0Jhbm5lckFkcy9DaGVsc2VhR3JvdG9uQmFuay5qcGciIC8%2BPC9hPiZuYnNwOzwvYT48L3A%2BDQo8cCBzdHlsZT0idGV4dC1hbGlnbjogY2VudGVyOyI%2BPGEgdGFyZ2V0PSJfYmxhbmsiIGhyZWY9Imh0dHA6Ly93d3cucGF5Y2hleC5jb20vYWNjb3VudGluZy1wcm9mZXNzaW9uYWxzL3Jlc291cmNlcy9rbm93bGVkZ2UtY2VudGVyLyI%2BPGltZyBhbHQ9IiIgc3JjPSJodHRwOi8vd3d3LmN0Y3Bhcy5vcmcvQ29udGVudC9GaWxlcy9JbWFnZXMvQmFubmVyQWRzL1BheWNoZXhfQmFubmVyQWRfQ1RfQ1BBLkpQRyIgLz48L2E%2BPGEgdGFyZ2V0PSJfYmxhbmsiIGhyZWY9Imh0dHA6Ly9sZWFwdGhlcG9uZC5jb20vY2hhbGxlbmdlcy1zb2x2ZWQvIj48YnIgLz4NCjxiciAvPg0KPC9hPjwvcD4NCg0KZAIPD2QWAgIED2QWBAIJDxAPFgYeDkRhdGFWYWx1ZUZpZWxkBQRjb2RlHg1EYXRhVGV4dEZpZWxkBQhjb2RlZGVzYx4LXyFEYXRhQm91bmRnZBAVCgNBbGwJRmFpcmZpZWxkCEhhcnRmb3JkCkxpdGNoZmllbGQJTWlkZGxlc2V4CU5ldyBIYXZlbgpOZXcgTG9uZG9uDE91dC1vZi1TdGF0ZQdUb2xsYW5kB1dpbmRoYW0VCgNBbGwDMDA0AzAwMQMwMDYDMDA3AzAwMgMwMDMDT1VUAzAwOAMwMDUUKwMKZ2dnZ2dnZ2dnZxYBZmQCCw8QDxYGHwMFBGNvZGUfBAUIY29kZWRlc2MfBWdkEBUhA0FsbBdBY2NvdW50aW5nIGFuZCBBdWRpdGluZwtBZ3JpY3VsdHVyZQ1BdWRpdC1HZW5lcmFsEkF1ZGl0LUdvdmVybm1lbnRhbBBBdWRpdC1Ob24tUHJvZml0C0Jvb2trZWVwaW5nEkJ1c2luZXNzIFZhbHVhdGlvbgxDb25zdHJ1Y3Rpb24PQ29ycG9yYXRlIFRheGVzDUVzdGF0ZS9UcnVzdHMWRm9yZWlnbiBMYW5ndWFnZS1PdGhlchhGb3JlaWduIExhbmd1YWdlLVNwYW5pc2gTRm9yZW5zaWMgQWNjb3VudGluZxRGcmF1ZCBJbnZlc3RpZ2F0aW9ucwpIZWFsdGhjYXJlEEluZGl2aWR1YWwgVGF4ZXMTSW50ZXJuYXRpb25hbCBUYXhlcwJJVBJMaXRpZ2F0aW9uIFN1cHBvcnQNTWFudWZhY3R1cmluZwpOb24tUHJvZml0DFBhcnRuZXJzaGlwcxtQZXJzb25hbCBGaW5hbmNpYWwgUGxhbm5pbmcLUmVhbCBFc3RhdGUGUmV0YWlsE1JldGlyZW1lbnQgUGxhbm5pbmcQU2VydmljZSBCdXNpbmVzcw5TbWFsbCBCdXNpbmVzcxlTbWFsbCBCdXNpbmVzcyBBc3Npc3RhbmNlE1N1Y2Nlc3Npb24gUGxhbm5pbmcRV2VhbHRoIE1hbmFnZW1lbnQJV2hvbGVzYWxlFSEDQWxsAkFBAkFHAkFJAkFEAkFVAkJPAkJWAkoxAkIxAkQxAkZPAkZMAkZBAkZJAkhFAkExAkMxAklUAkxJAksxAlkxAkUxAk4xAkwxAkgxAlJQAkcxAkYxAlNNAlNQAldNAkkxFCsDIWdnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZxYBZmQCEQ9kFgICAg9kFgJmDxQrAAIPBcUBQztDOkJyeWNlV2ViR3JvdXAuV2ViLlVJLldlYkNvbnRyb2xzLkR5bmFtaWNDb250cm9sc1BsYWNlaG9sZGVyLCBCcnljZVdlYkdyb3VwLldlYi5VSS5XZWJDb250cm9scy5EeW5hbWljQ29udHJvbHNQbGFjZWhvbGRlciwgVmVyc2lvbj0yLjEuMC4wLCBDdWx0dXJlPW5ldXRyYWwsIFB1YmxpY0tleVRva2VuPTMwZDIzZjEwODVkZjNlNzI7b0RDUEgWAGRkGAEFHl9fQ29udHJvbHNSZXF1aXJlUG9zdEJhY2tLZXlfXxYEBRxjdGwwMCRQYW5lbENvbnRlbnQkYm94Q291bnR5BR5jdGwwMCRQYW5lbENvbnRlbnQkYm94U2VydmljZXMFHGN0bDAwJFBhbmVsQ29udGVudCRidG5TZWFyY2gFG2N0bDAwJFBhbmVsQ29udGVudCRidG5DbGVhcibC5UwRQHpSP0qdBnngRtKS0Yz7&__VIEWSTATEGENERATOR=5F942784&__EVENTVALIDATION=%2FwEWMAL7maL%2BAQLgqMmpCgL9ucvfCAKPsf63BgLkrbTTCAK36ZuTCQK%2B2%2FDlBAKV8O6SDgKS%2Fvm4AwKJl9alBQK1ofHHCAKgmq7MBgLDwpL4AgLr5Y%2FpDgLJxefyCALJxc%2FyCALJxYfyCALJxdvyCALJxZfyCALIxe%2FyCALIxZPyCALwxafvCALIxafvCALKxafvCALMxe%2FyCALMxfvyCALMxefyCALMxYfyCAL%2BxdfyCALJxafvCALLxafvCALxxZvyCALyxYfyCALzxafvCALhxafvCALNxafvCAL0xafvCALyxafvCAL%2BxafvCAL4xavyCALPxafvCALMxafvCAL7xffyCAL7xavyCAL%2FxffyCALxxafvCAKEksnUAwKjj6LABdMvLro%2ByDJFsGGkgkaozlIVdr2p&ctl00%24PanelContent%24tbCompany=&ctl00%24PanelContent%24tbZip=&ctl00%24PanelContent%24boxCounty=007&ctl00%24PanelContent%24boxServices=All&ctl00%24PanelContent%24btnSearch.x=22&ctl00%24PanelContent%24btnSearch.y=12";
		$this->LoadPostUrl('http://www.ctcpas.org/Public/Referral/findcpa.aspx?ii=7',$data,true);
		$this->queuedFetch();
		$this->parseData();

	}
/*
	static $hostCount=array();
	static function loadCallBack($url,$html,$arg3)
	{
		if (empty($url)) //timeout?
			return;

		$thiz = self::getInstance();
		if (strpos($html,"The Three Laws of Robotics are as follows:"))
		{
			$host = parse_url($url,PHP_URL_HOST);
			log::info("ERROR! ERROR! FORBIDDEN ACCESS!");
					
			$html=null;
		}

		if (strlen($html)<5000)
		{$html=null;}
		baseScrape::loadCallBack($url,$html,$arg3);
	}*/




	public static function parse($url,$html)
	{
		$type = get_class();		
		$thiz = self::getInstance();

		$ap = new Address_Parser();
		$pp = new phone_parser();
		$ep = new Email_Parser();
		$kvp = new KeyValue_Parser();	
		$urls = array();
		log::info($url);
		//parse_str(parse_url($url,PHP_URL_QUERY),$query); 

	//	file_put_contents("$type.html",$html);	

		$links = array();
		$data = array();
		if (preg_match("#FindCPAList.aspx#",$url))
		{

			$x =  new  XPath($html);	
			foreach($x->query("//a[contains(@href, 'FindCPADetails')]") as $node)
			{
				  $links[] = self::relative2absolute($url, $node->getAttribute("href"));
			}
			if (!empty($links))
				$thiz->loadUrlsByArray($links);
		}
		else
		{
			$x =  new  XPath($html);	
			$keys = array();
			$values = array();
			$data = array();
			
			foreach($x->query("//*[contains(@id,'FirmName')]") as $node)
			{
				$data['COMPANY'] =  self::cleanup($node->textContent);
			}

			foreach($x->query("//tr[contains(@id,'firmProfile')]//td[@class = 'ProfileDetailLabel']") as $node)
			{
				$keys[] = self::cleanup($node->textContent);
			}

			foreach($x->query("//tr[contains(@id,'firmProfile')]//td[@class = 'ProfileDetail']") as $node)
			{
				$values[] =  self::cleanup($node->textContent);
			}

			$key = "ADDRESS";

			for($i=0;$i< sizeof($values) ; $i++ )
			{
				if (!empty($keys[$i]))
					$key = $keys[$i];


				if (empty($data[$key]))
					$data[$key] = $values[$i];
				else
				{
					// if it is an email treat special
					if (preg_match("#.+\@.+\..+#", $values[$i]))
						@$data["EMAIL"] .= $values[$i]." ";
					else
						$data[$key] = "{$data[$key]}, {$values[$i]}";
				}


			}
			
			$data['COUNTRY'] = 'United States';

			$data['SOURCE_URL'] = $url;
			log::info(db::normalize($data));
			db::store($type,$data,array('SOURCE_URL'));			
		}
	}
}


$r= new ctcpas();
$r->parseCommandLine();

